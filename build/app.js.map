{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/bootstrap.less","webpack:///./src/app/app.module.js","webpack:///./src/app/app.component.js","webpack:///./src/app/app.controller.js","webpack:///./~/babel-runtime/helpers/classCallCheck.js","webpack:///./src/app/app.template.html","webpack:///./src/app/app.styles.less","webpack:///./src/app/app.config.js","webpack:///./src/app/app.constants.js","webpack:///./src/app/common/common.module.js","webpack:///./src/app/common/api/api.module.js","webpack:///./src/app/common/api/auth-api.service.js","webpack:///./~/babel-runtime/helpers/createClass.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/modules/es6.object.define-property.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./src/app/common/api/user-api.service.js","webpack:///./src/app/common/api/base-api.service.js","webpack:///./~/babel-runtime/core-js/json/stringify.js","webpack:///./~/core-js/library/fn/json/stringify.js","webpack:///./src/app/common/api/instance-api.service.js","webpack:///./src/app/common/api/connection-api.service.js","webpack:///./src/app/common/api/token-api.service.js","webpack:///./src/app/common/modals/modals.module.js","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.module.js","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.factory.js","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.controller.js","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.add.template.html","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.remove.template.html","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.edit.template.html","webpack:///./src/app/common/modals/add-edit-entity/add-edit-entity.styles.less","webpack:///./src/app/common/modals/add-edit-base/add-edit-base.module.js","webpack:///./src/app/common/modals/add-edit-base/add-edit-base.factory.js","webpack:///./src/app/common/modals/add-edit-base/add-edit-base.controller.js","webpack:///./src/app/common/modals/add-edit-base/add-edit-base.template.html","webpack:///./src/app/common/modals/add-edit-base/add-edit-base.styles.less","webpack:///./src/app/common/form-group-validation/form-group-validation.module.js","webpack:///./src/app/common/form-group-validation/form-group-validation.directive.js","webpack:///./src/app/common/mind-map-editor/mind-map-editor.module.js","webpack:///./src/app/common/mind-map-editor/mind-map-editor.directive.js","webpack:///./src/app/common/mind-map-editor/mind-map-editor.template.html","webpack:///./src/app/common/mind-map-editor/mind-map-editor.styles.less","webpack:///./src/app/common/mind-map-editor/mind-map-editor.tree.logic.js","webpack:///./~/babel-runtime/core-js/object/assign.js","webpack:///./~/core-js/library/fn/object/assign.js","webpack:///./~/core-js/library/modules/es6.object.assign.js","webpack:///./~/core-js/library/modules/_object-assign.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./~/core-js/library/modules/_object-gops.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./src/app/common/mind-map-editor/mind-map-editor.treemap.logic.js","webpack:///./src/app/common/media-file-view/media-file-view.module.js","webpack:///./src/app/common/media-file-view/media-file-view.component.js","webpack:///./src/app/common/media-file-view/media-file-view.controller.js","webpack:///./src/app/common/media-file-view/media-file-view.template.html","webpack:///./src/app/common/media-file-view/media-file-view.styles.less","webpack:///./src/app/common/questionnaire/questionnaire.module.js","webpack:///./src/app/common/questionnaire/questionnaire.component.js","webpack:///./src/app/common/questionnaire/questionnaire.controller.js","webpack:///./src/app/common/questionnaire/questionnaire.template.html","webpack:///./src/app/common/questionnaire/questionnaire.styles.less","webpack:///./src/app/common/filters/filters.module.js","webpack:///./src/app/common/filters/shorten-filename.filter.js","webpack:///./src/app/auth/auth.module.js","webpack:///./src/app/auth/auth.component.js","webpack:///./src/app/auth/auth.controller.js","webpack:///./src/app/auth/auth.template.html","webpack:///./src/app/auth/auth.styles.less","webpack:///./src/app/auth/auth.config.js","webpack:///./src/app/auth/auth.constants.js","webpack:///./src/app/auth/login/login.module.js","webpack:///./src/app/auth/login/login.component.js","webpack:///./src/app/auth/login/login.controller.js","webpack:///./src/app/auth/login/login.template.html","webpack:///./src/app/auth/login/login.styles.less","webpack:///./src/app/auth/signin/signin.module.js","webpack:///./src/app/auth/signin/signin.component.js","webpack:///./src/app/auth/signin/signin.controller.js","webpack:///./src/app/auth/signin/signin.template.html","webpack:///./src/app/auth/signin/signin.styles.less","webpack:///./src/app/index/index.module.js","webpack:///./src/app/index/edit-base/edit-base.module.js","webpack:///./src/app/index/edit-base/edit-base.component.js","webpack:///./src/app/index/edit-base/edit-base.controller.js","webpack:///./src/app/index/edit-base/edit-base.template.html","webpack:///./src/app/index/edit-base/edit-base.styles.less","webpack:///./src/app/index/header/header.module.js","webpack:///./src/app/index/header/header.component.js","webpack:///./src/app/index/header/header.controller.js","webpack:///./src/app/index/header/header.template.html","webpack:///./src/app/index/header/header.styles.less","webpack:///./src/app/index/dashboard/dashboard.module.js","webpack:///./src/app/index/dashboard/dashboard.component.js","webpack:///./src/app/index/dashboard/dashboard.controller.js","webpack:///./src/app/index/dashboard/dashboard.template.html","webpack:///./src/app/index/dashboard/dashboard.styles.less","webpack:///./src/app/index/user-page/user-page.module.js","webpack:///./src/app/index/user-page/user-page.component.js","webpack:///./src/app/index/user-page/user-page.controller.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/core-js/library/fn/object/keys.js","webpack:///./~/core-js/library/modules/es6.object.keys.js","webpack:///./~/core-js/library/modules/_object-sap.js","webpack:///./src/app/index/user-page/user-page.template.html","webpack:///./src/app/index/user-page/user-page.styles.less","webpack:///./src/app/index/index.component.js","webpack:///./src/app/index/index.controller.js","webpack:///./src/app/index/index.template.html","webpack:///./src/app/index/index.styles.less","webpack:///./src/app/index/memorise/memorise.module.js","webpack:///./src/app/index/memorise/memorise.component.js","webpack:///./src/app/index/memorise/memorise.controller.js","webpack:///./src/app/index/memorise/memorise.template.html","webpack:///./src/app/index/memorise/memorise.styles.less"],"names":["document","body","addEventListener","angular","bootstrap","getElementById","strictDi","AppModule","module","config","constant","component","name","AppComponent","template","controller","AppController","AppConfig","$stateProvider","$urlRouterProvider","$httpProvider","cfpLoadingBarProvider","$sceProvider","$locationProvider","html5Mode","enabled","requireBase","console","log","otherwise","state","abstract","url","params","token","$stateParams","$state","TokenApi","tokenVerify","then","response","go","resolve","userData","UserApi","getUser","base","reload","baseId","includeSpinner","includeBar","interceptors","push","$q","$location","$localStorage","statuses","auth","headers","Authorization","rejection","reject","indexOf","status","when","domain","baseUri","baseURI","location","host","hostname","API","AUTH","tokenRefresh","SIGNUP","GOOGLE_OAUTH","USER","knowlagedb","testdb","instance","pack","person","connection","generateEntity","fileUpload","filesUpload","fileGet","CommonModule","ApiModule","service","AuthApi","$http","$storage","input","username","password","post","data","rememberMe","email","confirmPassword","msg","match","get","userId","user","BaseApi","pk","delete","newBase","editedBase","put","key","value","undefined","InstanceApi","basePk","entity","id","ConnectionApi","query","result","ModalsModule","AddEditEntityModule","factory","AddEditEntityFactory","tpls","add","remove","edit","$uibModal","open","modalInstance","animation","type","controllerAs","AddEditEntityController","$uibModalInstance","copy","fetchData","inputType","auto","manual","getConnections","connections","$item","getEntityByConnection","subConnections","description","entityForm","$setSubmitted","$invalid","parent_id","addInstance","close","editInstance","deleteInstance","dismiss","$select","search","list","items","FLAG","filter","item","userInputItem","concat","selected","$event","stopPropagation","activate","files","b64","AddEditBaseModule","AddEditBaseFactory","AddEditBaseController","baseForm","tree","createBase","FormGroupValidationModule","directive","FormGroupValidationDirective","restrict","require","link","scope","element","attrs","formCtrl","subject","find","removeWatch","$watch","$submitted","$dirty","$touched","validate","toggleClass","$on","MindMapEditorModule","MindMapEditorDirective","addEditEntityModal","ctrl","mindMapElement","getElementsByClassName","dataApi","mindMapEditor","changedTreeData","treeData","setTreeData","onChange","setDataApi","export","format","scale","style","MindMapEditorTreeLogic","settings","width","clientWidth","height","clientHeight","d3","layout","size","diagonal","svg","projection","d","y","x","zoom","behavior","scaleExtent","on","main","attr","event","translate","editorContainer","select","editorSvg","append","classed","call","html","nodesData","duration","window","split","update","onChangeCallback","resize","n","cp","node","cloneNode","m","save","dataBlob","filesize","saveAs","isFileSaverSupported","Blob","e","alert","parentNode","innerHTML","blob","svg_to_pdf","pdf","download_pdf","output","svgString","getSVGString","svgString2Image","svgNode","setAttribute","cssStyleText","getCSSStyles","appendCSS","serializer","XMLSerializer","serializeToString","replace","parentElement","selectorTextArr","c","classList","length","contains","nodes","getElementsByTagName","i","classes","extractedCSSText","styleSheets","s","cssRules","r","selectorText","cssText","str","arr","styleElement","createElement","refNode","hasChildNodes","children","insertBefore","callback","imgsrc","btoa","unescape","encodeURIComponent","canvas","context","getContext","image","Image","onload","clearRect","drawImage","toBlob","Math","round","src","saveSvgAsPng","svgAsDataUri","svg_uri","doc","jsPDF","dataUrl","rotate","PI","toDataURL","addImage","dataUriString","ev","href","download","removeChild","appendChild","click","cb","x0","y0","_children","forEach","toggleChildrenAll","toggleChildren","source","flag","reverse","deepest","generationGutter","depth","floor","selectAll","Date","getTime","nodeEnter","enter","InjectNodeContent","nodeUpdate","transition","text","nodeExit","exit","links","target","insert","o","subConnection","toggle","offset","addNewNode","bind","removeNode","editNode","childList","thisId","parent","index","splice","MindMapEditorTreeMapLogic","linear","range","color","category20c","root","treemap","sticky","cell","dx","dy","w","getComputedTextLength","count","kx","ky","t","altKey","MediaFileViewModule","MediaFileViewComponent","bindings","MediaFileViewController","Upload","$timeout","$scope","fallbackImage","tmpl","mas","$","masonry","itemSelector","columnWidth","percentPosition","filesToPreview","map","el","startsWith","file","filesRaw","filesToUploadAndPreview","selectFiles","errFiles","errorMsg","uploadFiles","base64DataUrl","upload","uploadedFiles","hash","mimetype","evt","uploadProgress","min","parseInt","loaded","total","fInd","findIndex","lastModified","QuestionnaireModule","QuestionnaireComponent","questions","QuestionnaireController","FiltersModule","ShortenFilenameFilter","fileName","leaveNumber","parsed","ext","pop","join","substr","AuthModule","AuthComponent","AuthController","getSocialUrls","backends","AuthConfig","MESSAGES","error","general","LoginModule","LoginComponent","LoginController","errorMessage","loginForm","login","SignInModule","SignInComponent","SignInController","errorMap","fields","singInForm","signup","IndexModule","EditBaseModule","EditBaseComponent","EditBaseController","addEditBaseModal","dataInit","getBase","editBaseForm","editBase","HeaderModule","HeaderComponent","HeaderController","DashboardModule","DashboardComponent","DashboardController","getBasesList","bases","transitionTo","deleteBase","UserPageModule","UserPageComponent","UserPageController","picFile","userForm","setUser","$file","$invalidFiles","progress","IndexComponent","IndexController","MemoriseModule","MemoriseComponent","MemoriseController","questionnaire"],"mappings":"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cAHE,CAAP;AAIH;;;;;;;;;AC9CL;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC,G;;;;;;AC1BD,mBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,uEAAuE,2CAA0C,E;;;;;;ACFjH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE;AACnE;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,eAAc;AACd,eAAc;AACd,gBAAe;AACf,gBAAe;AACf,gBAAe;AACf,iBAAgB;AAChB,0B;;;;;;AC5DA;AACA;AACA;AACA,wCAAuC,gC;;;;;;ACHvC,8BAA6B;AAC7B,sCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA;AACA;AACA,G;;;;;;ACfA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,G;;;;;;ACFA;AACA,uEAAsE,gBAAgB,UAAU,GAAG;AACnG,EAAC,E;;;;;;ACFD;AACA;AACA,kCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,EAAC,E;;;;;;ACHD;AACA;AA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","file":"app.js","sourcesContent":["import './bootstrap.less';\r\nimport {AppModule} from './app/app.module';\r\n\r\ndocument.body.addEventListener('DOMContentLoaded', () => {\r\n    angular.bootstrap(document.getElementById(AppModule), [AppModule], {\r\n        strictDi: true\r\n    });\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/bootstrap.less\n// module id = 74\n// module chunks = 0","import { AppComponent } from './app.component';\r\nimport { AppConfig } from './app.config';\r\nimport { API } from './app.constants';\r\n\r\nimport { CommonModule } from './common/common.module';\r\n\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { IndexModule } from './index/index.module';\r\n\r\nexport const AppModule = angular.module('erd', [\r\n        'ui.router',\r\n        'ui.bootstrap',\r\n        'ui.bootstrap.tpls',\r\n        'ui.select',\r\n        'ngStorage',\r\n        'angular-loading-bar',\r\n        'ngAnimate',\r\n        'angular-media-preview',\r\n        'ngFileUpload',\r\n        //'ui.router.components',\r\n        //'angular-sanitize',\r\n        \r\n        CommonModule,\r\n        \r\n        AuthModule,\r\n        IndexModule\r\n    ])\r\n    .config(AppConfig)\r\n    .constant('API', API)\r\n    .component('app', AppComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.js","import {AppController as controller} from './app.controller';\r\nimport template from './app.template.html';\r\nimport styles from './app.styles.less';\r\n\r\nexport const AppComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.js","export class AppController {\r\n    constructor() {\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.controller.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/classCallCheck.js\n// module id = 88\n// module chunks = 0","module.exports = \"<ui-view/>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.template.html\n// module id = 89\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.styles.less\n// module id = 90\n// module chunks = 0","export function AppConfig($stateProvider, $urlRouterProvider, $httpProvider, cfpLoadingBarProvider, $sceProvider, $locationProvider) {\r\n\r\n    $locationProvider.html5Mode({\r\n        enabled: true,\r\n        requireBase: false\r\n    });\r\n\r\n    console.log($locationProvider)\r\n\r\n    $sceProvider.enabled(false);\r\n\r\n    $urlRouterProvider\r\n        .otherwise('/');\r\n\r\n    $stateProvider\r\n        .state('app', {\r\n            abstract: true,\r\n            template: '<ui-view/>'\r\n        })\r\n        .state('app.auth', {\r\n            url: '/auth',\r\n            component: 'auth'\r\n        })\r\n        .state('app.social', {\r\n            params: { token: null },\r\n            url: '/social?token',\r\n            template: '<div></div>',\r\n            controller: ($stateParams, $state, TokenApi) => {\r\n                TokenApi.tokenVerify({ token: $stateParams.token }).then((response) => {\r\n                    $state.go('app.index.dashboard');\r\n                });\r\n            }\r\n        })\r\n        .state('app.index', {\r\n            abstract: true,\r\n            component: 'index',\r\n            resolve: {\r\n                userData: (UserApi) => {\r\n                    return UserApi.getUser();\r\n                }\r\n            }\r\n        })\r\n        .state('app.index.dashboard', {\r\n            url: '/',\r\n            component: 'dashboard',\r\n        })\r\n        .state('app.index.edit', {\r\n            params: { base: null },\r\n            url: '/edit/:baseId',\r\n            component: 'editBase',\r\n        })\r\n        .state('app.index.create', {\r\n            reload: false,\r\n            params: { base: null, baseId: null },\r\n            url: '/create',\r\n            component: 'editBase',\r\n        })\r\n        .state('app.index.memorise', {\r\n            params: { base: null },\r\n            url: '/memorize/:baseId',\r\n            component: 'memorise',\r\n        })\r\n        .state('app.index.user', {\r\n            url: '/user/',\r\n            component: 'userPage',\r\n        });\r\n\r\n    cfpLoadingBarProvider.includeSpinner = true;\r\n    cfpLoadingBarProvider.includeBar = true;\r\n\r\n    $httpProvider.interceptors.push(function($q, $location, $localStorage, $state) {\r\n        const statuses = {\r\n            auth: [401, 403]\r\n        }\r\n        return {\r\n            'request': function(config) {\r\n                config.headers = config.headers || {};\r\n                let token = $localStorage.token;\r\n                if (token) {\r\n                    config.headers.Authorization = 'jwt ' + token;\r\n                } else {\r\n                    $state.go('app.auth');\r\n                }\r\n                return config;\r\n            },\r\n\r\n            'requestError': function(rejection) {\r\n                return $q.reject(rejection);\r\n            },\r\n\r\n            'response': function(response) {\r\n                console.log(response)\r\n                if (statuses.auth.indexOf(response.status) > -1) {\r\n                    $state.go('app.auth');\r\n                    return $q.reject(response);\r\n                }\r\n                return response;\r\n            },\r\n\r\n            'responseError': function(response) {\r\n                if (statuses.auth.indexOf(response.status) > -1) {\r\n                    $state.go('app.auth');\r\n                    return $q.reject(response);\r\n                }\r\n                return response || $q.when(response);\r\n            },\r\n        };\r\n    });\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.config.js","const domain = `../v1/`\r\n\r\nlet baseUri = document.body.baseURI;\r\nconsole.log(baseUri, domain)\r\nconsole.log(location.host);\r\nconsole.log(location.hostname);\r\n\r\nconst API = {\r\n    AUTH: `${domain}api/token-auth/`,\r\n    tokenRefresh: `${domain}api/token-refresh/`,\r\n    tokenVerify: `${domain}api/token-verify/`,\r\n    SIGNUP: `${domain}reg/`,\r\n    GOOGLE_OAUTH: `${domain}login/google-oauth2/`,\r\n    USER: `${domain}api/me/`,\r\n    knowlagedb: `${domain}api/knowlagedb/`,\r\n    testdb: `${domain}api/knowlagedb/`,\r\n    instance: `${domain}api/instance/`,\r\n    pack: `${domain}api/pack/`,\r\n    person: `${domain}api/person/`,\r\n    connection: `${domain}api/connection/`,\r\n    generateEntity: `${domain}api/askfor/`,\r\n    fileUpload: `${domain}upload/`,\r\n    filesUpload: `${domain}uploads/`,\r\n    fileGet: `${domain}media/`,\r\n};\r\n\r\nexport { API }\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.constants.js","//common.module.js\r\nimport { ApiModule } from './api/api.module';\r\nimport { ModalsModule } from './modals/modals.module';\r\nimport { FormGroupValidationModule } from './form-group-validation/form-group-validation.module';\r\nimport { MindMapEditorModule } from './mind-map-editor/mind-map-editor.module';\r\nimport { MediaFileViewModule } from './media-file-view/media-file-view.module';\r\nimport { QuestionnaireModule } from './questionnaire/questionnaire.module';\r\nimport { FiltersModule } from './filters/filters.module';\r\n\r\nexport const CommonModule = angular.module('erd.common', [\r\n        ApiModule,\r\n        FormGroupValidationModule,\r\n        MindMapEditorModule,\r\n        ModalsModule,\r\n        MediaFileViewModule,\r\n        QuestionnaireModule,\r\n        FiltersModule\r\n    ])\r\n    .name;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/common.module.js","import { AuthApi } from './auth-api.service';\r\nimport { UserApi } from './user-api.service';\r\nimport { BaseApi } from './base-api.service';\r\nimport { InstanceApi } from './instance-api.service';\r\nimport { ConnectionApi } from './connection-api.service';\r\nimport { TokenApi } from './token-api.service';\r\n\r\nexport const ApiModule = angular.module('erd.common.api', [])\r\n    .service('AuthApi', AuthApi)\r\n    .service('UserApi', UserApi)\r\n    .service('BaseApi', BaseApi)\r\n    .service('ConnectionApi', ConnectionApi)\r\n    .service('InstanceApi', InstanceApi)\r\n    .service('TokenApi', TokenApi)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/api.module.js","//auth-api.service.js\r\nexport class AuthApi {\r\n    constructor($http, API, $localStorage, $state, $q) {\r\n        this.$http = $http;\r\n        this.API = API;\r\n        this.$storage = $localStorage;\r\n        this.$state = $state;\r\n        this.$q = $q;\r\n    }\r\n\r\n    login(input) {\r\n        const { username, password } = input;\r\n        return this.$http.post(this.API.AUTH, { username, password })\r\n            .then((response) => {\r\n                if (response.status == 400) {\r\n                    return this.$q.reject(response);\r\n                }\r\n                this.$storage.token = response.data.token;\r\n                \r\n                if (input.rememberMe) {\r\n                    this.$storage.username = username;\r\n                    this.$storage.password = password;\r\n                }\r\n                this.$state.go('app.index.dashboard');\r\n                return response;\r\n            });\r\n    }\r\n\r\n    signup(input) {\r\n        const { username, email, password, confirmPassword } = input;\r\n        return this.$http.post(this.API.SIGNUP, { username, email, password, confirmPassword })\r\n            .then((response) => {\r\n                if (response.data.msg && response.data.msg.match(/.*UNIQUE constraint failed.*/g)) {\r\n                    return this.$q.reject(response);\r\n                }\r\n                this.$storage.token = response.data.token;\r\n                this.$state.go('app.index.dashboard');\r\n                return response;\r\n            });\r\n    }\r\n\r\n    getSocialUrls() {\r\n        return this.$http.get(this.API.SIGNUP)\r\n            .then((response) => {\r\n                return response;\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/auth-api.service.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/createClass.js\n// module id = 97\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/define-property.js\n// module id = 98\n// module chunks = 0","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/define-property.js\n// module id = 99\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.define-property.js\n// module id = 100\n// module chunks = 0","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_export.js\n// module id = 101\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_global.js\n// module id = 102\n// module chunks = 0","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_core.js\n// module id = 103\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ctx.js\n// module id = 104\n// module chunks = 0","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_a-function.js\n// module id = 105\n// module chunks = 0","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_hide.js\n// module id = 106\n// module chunks = 0","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dp.js\n// module id = 107\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-object.js\n// module id = 108\n// module chunks = 0","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-object.js\n// module id = 109\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ie8-dom-define.js\n// module id = 110\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_descriptors.js\n// module id = 111\n// module chunks = 0","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_fails.js\n// module id = 112\n// module chunks = 0","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_dom-create.js\n// module id = 113\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-primitive.js\n// module id = 114\n// module chunks = 0","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_property-desc.js\n// module id = 115\n// module chunks = 0","//user-api.service.js\r\nexport class UserApi {\r\n    constructor($http, API, $localStorage, $state) {\r\n        this.$http = $http;\r\n        this.API = API;\r\n        this.$storage = $localStorage;\r\n        this.$state = $state;\r\n    }\r\n\r\n    getUser(userId) {\r\n        return this.$http.get(this.API.USER)\r\n            .then((response) => {\r\n                //console.log(response);\r\n                this.$storage.user = response.data;\r\n                return response.data;\r\n            });\r\n    }\r\n\r\n    setUser(data) {\r\n        return this.$http.post(this.API.USER, data)\r\n            .then((response) => {\r\n                //console.log(response);\r\n                return response.data;\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/user-api.service.js","//base-api.service.js\r\nexport class BaseApi {\r\n    constructor($http, API) {\r\n        this.$http = $http;\r\n        this.API = API;\r\n    }\r\n\r\n    getBasesList() {\r\n        return this.$http.get(this.API.knowlagedb)\r\n            .then((response) => {\r\n\r\n                return response;\r\n            });\r\n    }\r\n\r\n    deleteBase(pk) {\r\n        return this.$http.delete(this.API.knowlagedb + pk + '/').then((response) => {\r\n            return response;\r\n        });\r\n    }\r\n\r\n    createBase(newBase) {\r\n        return this.$http.post(this.API.knowlagedb, newBase)\r\n            .then((response) => {\r\n                return response.data;\r\n            });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    editBase(pk, editedBase) {\r\n        return this.$http.put(this.API.testdb + pk + '/', \r\n            JSON.stringify(editedBase, (key, value) => {\r\n                if (['x', 'y', 'parent', 'x0', 'y0', 'depth'].indexOf(key) > -1) {\r\n                    return undefined;\r\n                }\r\n                return value;\r\n            }))\r\n            .then((response) => {\r\n                return response.data;\r\n            });\r\n    }\r\n\r\n    getBase(pk) {\r\n        return this.$http.get(this.API.testdb + pk + '/' + '?mindmap=' + pk);\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/base-api.service.js","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 118\n// module chunks = 0","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 119\n// module chunks = 0","//instance-api.service.js\r\nexport class InstanceApi {\r\n    constructor($http, API) {\r\n        this.$http = $http;\r\n        this.API = API;\r\n    }\r\n\r\n    addInstance(basePk, entity) {\r\n        return this.$http.post(this.API.instance /*+ '?mindmap=' + basePk*/, entity).then((response) => {\r\n            console.log(response.data);\r\n            return response.data;\r\n        });\r\n    }\r\n\r\n    editInstance(basePk, entity) {\r\n        return this.$http.put(this.API.instance + entity.id + '/' + '?mindmap=' + basePk, \r\n            JSON.stringify(entity, (key, value) => {\r\n                if (['x', 'y', 'parent', 'x0', 'y0', 'depth'].indexOf(key) > -1) {\r\n                    return undefined;\r\n                }\r\n                return value;\r\n            })).then((response) => {\r\n            console.log(response.data);\r\n            return response.data;\r\n        });\r\n    }\r\n\r\n    deleteInstance(basePk, entity) {\r\n        console.log(basePk, entity)\r\n        return this.$http.delete(this.API.instance + entity.id + '/' + '?mindmap=' + basePk).then((response) => {\r\n            console.log(response.data);\r\n            return response.data;\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/instance-api.service.js","//connection-api.service.js\r\nexport class ConnectionApi {\r\n    constructor($http, API) {\r\n        this.$http = $http;\r\n        this.API = API;\r\n    }\r\n\r\n    getConnections(query = '') {\r\n        console.log(this.API);\r\n        return this.$http.get(this.API.generateEntity + query + '/')\r\n            .then((response) => {\r\n                return response.data.result;\r\n            });\r\n    }\r\n\r\n    getEntityByConnection(query = '') {\r\n        return this.$http.get(this.API.generateEntity + query + '/')\r\n            .then((response) => {\r\n                return response.data ;\r\n                //return response;\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/connection-api.service.js","//token-api.service.js\r\nexport class TokenApi {\r\n    constructor($http, API, $localStorage, $state, $q) {\r\n        this.$http = $http;\r\n        this.API = API;\r\n        this.$storage = $localStorage;\r\n        this.$state = $state;\r\n        this.$q = $q;\r\n    }\r\n\r\n    tokenRefresh(input = { token: this.$storage.token }) {\r\n        return this.$http.post(this.API.tokenRefresh, input)\r\n            .then((response) => {\r\n                if (response.status !== 200) {\r\n                    this.$state.go('app.auth.login');\r\n                    return this.$q.reject(response);\r\n                }\r\n                this.$storage.token = response.data.token;\r\n                return response;\r\n            });\r\n    }\r\n\r\n    tokenVerify(input = { token: this.$storage.token }) {\r\n        return this.$http.post(this.API.tokenVerify, input)\r\n            .then((response) => {\r\n                if (response.status !== 200) {\r\n                    this.$state.go('app.auth.login');\r\n                    return this.$q.reject(response);\r\n                }\r\n                this.$storage.token = response.data.token;\r\n                return response;\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/api/token-api.service.js","import { AddEditEntityModule } from './add-edit-entity/add-edit-entity.module';\r\nimport { AddEditBaseModule } from './add-edit-base/add-edit-base.module';\r\n\r\nexport const ModalsModule = angular.module('erd.common.modals', [\r\n        AddEditEntityModule,\r\n        AddEditBaseModule\r\n    ])\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/modals.module.js","import { AddEditEntityFactory } from './add-edit-entity.factory';\r\nimport './add-edit-entity.styles.less';\r\n\r\nexport const AddEditEntityModule = angular.module('erd.common.modals.add-edit-entity', [])\r\n    .factory('addEditEntityModal', AddEditEntityFactory)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.module.js","import { AddEditEntityController as controller } from './add-edit-entity.controller';\r\nimport addTemplate from './add-edit-entity.add.template.html';\r\nimport removeTemplate from './add-edit-entity.remove.template.html';\r\nimport editTemplate from './add-edit-entity.edit.template.html';\r\n\r\nconst tpls = {\r\n    add: addTemplate,\r\n    remove: removeTemplate,\r\n    edit: editTemplate\r\n};\r\n\r\nexport function AddEditEntityFactory($uibModal) {\r\n    return function(config) {\r\n        return {\r\n            open: (entity) => {\r\n                const modalInstance = $uibModal.open({\r\n                    animation: true,\r\n                    template: tpls[config.type],\r\n                    controller: controller,\r\n                    controllerAs: '$ctrl',\r\n                    resolve: {\r\n                        entity: () => entity,\r\n                        config: () => config\r\n                    }\r\n                });\r\n                return modalInstance.result/*.then((resolved) => {\r\n                    return resolved;\r\n                }, (rejected) => {\r\n                    return rejected;\r\n                })*/;\r\n            }\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.factory.js","export class AddEditEntityController {\r\n    constructor(config, entity, $uibModalInstance, ConnectionApi, InstanceApi) {\r\n        this.$uibModalInstance = $uibModalInstance;\r\n        this.ConnectionApi = ConnectionApi;\r\n        this.InstanceApi = InstanceApi;\r\n        this.config = config;\r\n        this.entity = entity || {};\r\n        this.input = ['edit', 'remove'].indexOf(this.config.type) > -1 ? angular.copy(this.entity) : { value: {} };\r\n        this.fetchData();\r\n\r\n        this.inputType = {\r\n            auto: true,\r\n            manual: false\r\n        };\r\n    }\r\n\r\n    fetchData() {\r\n        this.ConnectionApi.getConnections(this.entity.value.name).then((response) => {\r\n            this.connections = response;\r\n        });\r\n    }\r\n\r\n    selectedConnection($item) {\r\n        if (!this.entity.value.name) {\r\n            return;\r\n        }\r\n        this.ConnectionApi.getEntityByConnection($item.name + '/' + this.entity.value.name).then((response) => {\r\n            if (!response.result) {\r\n                this.subConnections = [];\r\n                this.inputType = {\r\n                    auto: false,\r\n                    manual: true\r\n                };\r\n                return;\r\n            }\r\n            this.subConnections = response.result;\r\n        });\r\n    }\r\n\r\n    selectedSubConnection($item) {\r\n        if (!$item.name) {\r\n            return;\r\n        }\r\n        this.input.value.name = $item.name;\r\n        this.input.value.description = $item.description;\r\n    }\r\n\r\n\r\n    add() {\r\n        this.entityForm.$setSubmitted();\r\n        if (this.entityForm.$invalid) {\r\n            return;\r\n        }\r\n        if (this.config.basePk) {\r\n            if (this.config.type === 'add') {\r\n                this.input.parent_id = this.entity.id;\r\n                this.InstanceApi.addInstance(this.config.basePk, this.input).then((response) => {\r\n                    this.input.id = response.id;\r\n                    this.$uibModalInstance.close(this.input);\r\n                })\r\n            }\r\n            if (this.config.type === 'edit') {\r\n                this.InstanceApi.editInstance(this.config.basePk, this.input).then((response) => {\r\n                    console.log(response, this.input)\r\n                    this.$uibModalInstance.close(this.input);\r\n                })\r\n            }\r\n            if (this.config.type === 'remove') {\r\n                this.InstanceApi.addInstance(this.config.basePk, this.input).then((response) => {\r\n                    this.$uibModalInstance.close(this.input);\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    confirm() {\r\n        this.InstanceApi.deleteInstance(this.config.basePk, this.input).then((response) => {\r\n            this.$uibModalInstance.close(this.input);\r\n        })\r\n    }\r\n\r\n    cancel() {\r\n        this.$uibModalInstance.dismiss('cancel');\r\n    }\r\n\r\n    refreshResults($select) {\r\n        let search = $select.search,\r\n            list = angular.copy($select.items),\r\n            FLAG = -1;\r\n        list = list.filter(function(item) {\r\n            return item.id !== FLAG;\r\n        });\r\n\r\n        if (!search) {\r\n            $select.items = list;\r\n        } else {\r\n            let userInputItem = {\r\n                description: search\r\n            };\r\n            $select.items = [userInputItem].concat(list);\r\n            $select.selected = userInputItem;\r\n        }\r\n    }\r\n\r\n    clearSelection($event, $select) {\r\n        $event.stopPropagation();\r\n        $select.selected = undefined;\r\n        $select.search = undefined;\r\n        $select.activate();\r\n    }\r\n\r\n    filesChanged(files, b64) {\r\n        console.log('filesChanged', this.input.value, files, b64);\r\n        this.input.value.files = files || b64;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.controller.js","module.exports = \"<div class=\\\"modal-content add-edit-entity\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.cancel()\\\" aria-hidden=\\\"true\\\">×</button>\\r\\n        <h4 class=\\\"modal-title\\\">Add new</h4>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <form name=\\\"$ctrl.entityForm\\\" class=\\\"form-horizontal\\\">\\r\\n            <fieldset>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"connection\\\" class=\\\"col-lg-2 control-label\\\">Connection</label>\\r\\n                    <div class=\\\"col-lg-10\\\">\\r\\n                        <ui-select name=\\\"connection\\\" id=\\\"connection\\\" ng-model=\\\"$ctrl.input.connection\\\" theme=\\\"bootstrap\\\" ng-disabled=\\\"!$ctrl.connections\\\" on-select=\\\"$ctrl.selectedConnection($item, $model)\\\" reset-search-input=\\\"false\\\">\\r\\n                            <ui-select-match placeholder=\\\"Select or add connection\\\">\\r\\n                                <v ng-bind-html=\\\"$select.selected.name || $select.search\\\"></v>\\r\\n                                <i class=\\\"ui-remove btn btn-xs btn-link pull-right glyphicon glyphicon-remove\\\" ng-click=\\\"$ctrl.clearSelection($event, $select)\\\"></i>\\r\\n                            </ui-select-match>\\r\\n                            <ui-select-choices repeat=\\\"item in $ctrl.connections | filter: $select.search\\\" refresh=\\\"$ctrl.refreshResults($select)\\\" refresh-delay=\\\"0\\\">\\r\\n                                <div ng-bind-html=\\\"item.name | highlight: $select.search\\\"></div>\\r\\n                            </ui-select-choices>\\r\\n                        </ui-select>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <span class=\\\"animate-show\\\" ng-show=\\\"$ctrl.input.connection && $ctrl.subConnections\\\">\\r\\n                    <fieldset  ng-if=\\\"$ctrl.subConnections.length > 0\\\">\\r\\n                        <legend >Select Autogenerated Info \\r\\n                            <i class=\\\"glyphicon pull-right\\\" \\r\\n                                ng-class=\\\"{'glyphicon-chevron-up': $ctrl.inputType.auto, 'glyphicon-chevron-down': !$ctrl.inputType.auto}\\\"\\r\\n                                ng-click=\\\"$ctrl.inputType.auto = !$ctrl.inputType.auto\\\"></i>\\r\\n                        </legend >\\r\\n                            <span class=\\\"autogenerated animate-show\\\" ng-show=\\\"$ctrl.inputType.auto\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <label for=\\\"subconnection\\\" class=\\\"col-lg-2 control-label\\\">Entity&nbsp;Name</label>\\r\\n                                    <div class=\\\"col-lg-10\\\">\\r\\n                                        <ui-select name=\\\"subconnection\\\" id=\\\"subconnection\\\" ng-model=\\\"$ctrl.input.subconnection\\\" theme=\\\"bootstrap\\\" on-select=\\\"$ctrl.selectedSubConnection($item, $model)\\\" reset-search-input=\\\"false\\\">\\r\\n                                            <ui-select-match placeholder=\\\"Select Entity\\\">\\r\\n                                                <v ng-bind-html=\\\"$select.selected.name || $select.search\\\"></v>\\r\\n                                                <i class=\\\"ui-remove btn btn-xs btn-link pull-right glyphicon glyphicon-remove\\\" ng-click=\\\"$ctrl.clearSelection($event, $select)\\\"></i>\\r\\n                                            </ui-select-match>\\r\\n                                            <ui-select-choices repeat=\\\"item in $ctrl.subConnections | filter: $select.search\\\" refresh=\\\"$ctrl.refreshResults($select)\\\" refresh-delay=\\\"0\\\">\\r\\n                                                <div ng-bind-html=\\\"item.name | highlight: $select.search\\\"></div>\\r\\n                                            </ui-select-choices>\\r\\n                                        </ui-select>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </span>\\r\\n                    </fieldset>\\r\\n                    <fieldset >\\r\\n                        <legend >Manual input\\r\\n                            <i class=\\\"glyphicon pull-right\\\" \\r\\n                                ng-class=\\\"{'glyphicon-chevron-down': $ctrl.inputType.manual, 'glyphicon-chevron-up': !$ctrl.inputType.manual}\\\"\\r\\n                                ng-click=\\\"$ctrl.inputType.manual = !$ctrl.inputType.manual\\\"></i>\\r\\n                        </legend>\\r\\n                            <span class=\\\"manual animate-show\\\" ng-show=\\\"$ctrl.inputType.manual\\\">\\r\\n                                <div class=\\\"form-group\\\" form-group-validation>\\r\\n                                    <label for=\\\"name\\\" class=\\\"col-lg-2 control-label\\\">Name</label>\\r\\n                                    <div class=\\\"col-lg-10\\\">\\r\\n                                        <input type=\\\"text\\\" name=\\\"name\\\" placeholder=\\\"Name\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.input.value.name\\\" ng-disabled=\\\"$ctrl.input.subconnection\\\" ng-required=\\\"!$ctrl.input.subconnection\\\">\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\" form-group-validation>\\r\\n                                    <label for=\\\"description\\\" class=\\\"col-lg-2 control-label\\\">Description</label>\\r\\n                                    <div class=\\\"col-lg-10\\\">\\r\\n                                        <input type=\\\"text\\\" name=\\\"description\\\" placeholder=\\\"Description\\\" class=\\\"form-control\\\" id=\\\"description\\\" ng-model=\\\"$ctrl.input.value.description\\\" ng-disabled=\\\"$ctrl.input.subconnection\\\" ng-required=\\\"!$ctrl.input.subconnection\\\">\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </span>\\r\\n                    </fieldset>\\r\\n                </span>\\r\\n            </fieldset>\\r\\n            <fieldset>\\r\\n                <legend >Attachments\\r\\n                    <i class=\\\"glyphicon pull-right\\\" \\r\\n                        ng-class=\\\"{'glyphicon-chevron-down': $ctrl.inputType.attachments, 'glyphicon-chevron-up': !$ctrl.inputType.attachments}\\\"\\r\\n                        ng-click=\\\"$ctrl.inputType.attachments = !$ctrl.inputType.attachments\\\"></i>\\r\\n                </legend>\\r\\n                <div class=\\\"animate-show\\\" ng-show=\\\"$ctrl.inputType.attachments\\\">\\r\\n                    <media-file-view \\r\\n                        on-change=\\\"$ctrl.filesChanged(files, b64)\\\" \\r\\n                        files=\\\"$ctrl.input.value.files\\\">\\r\\n                    </media-file-view>\\r\\n                </div>\\r\\n            </fieldset>\\r\\n        </form>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.add()\\\">Add</button>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.add.template.html\n// module id = 127\n// module chunks = 0","module.exports = \"<div class=\\\"modal-content add-edit-entity\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.cancel()\\\" aria-hidden=\\\"true\\\">×</button>\\r\\n        <h4 class=\\\"modal-title\\\">Remove</h4>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        Do you realy want to delete {{$ctrl.entity.value.name}}?\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.confirm()\\\">Confirm</button>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.remove.template.html\n// module id = 128\n// module chunks = 0","module.exports = \"<div class=\\\"modal-content add-edit-entity\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.cancel()\\\" aria-hidden=\\\"true\\\">×</button>\\r\\n        <h4 class=\\\"modal-title\\\">Edit</h4>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <form name=\\\"$ctrl.entityForm\\\" class=\\\"form-horizontal\\\">\\r\\n            <fieldset>\\r\\n                <div class=\\\"form-group\\\" form-group-validation>\\r\\n                    <label for=\\\"name\\\" class=\\\"col-lg-2 control-label\\\">Name</label>\\r\\n                    <div class=\\\"col-lg-10\\\">\\r\\n                        <input type=\\\"text\\\" name=\\\"name\\\" placeholder=\\\"Name\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.input.value.name\\\" ng-required=\\\"true\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" form-group-validation>\\r\\n                    <label for=\\\"description\\\" class=\\\"col-lg-2 control-label\\\">Description</label>\\r\\n                    <div class=\\\"col-lg-10\\\">\\r\\n                        <input type=\\\"text\\\" name=\\\"description\\\" placeholder=\\\"Description\\\" class=\\\"form-control\\\" id=\\\"description\\\" ng-model=\\\"$ctrl.input.value.description\\\" ng-required=\\\"true\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </fieldset>\\r\\n            <fieldset>\\r\\n                <legend >Attachments\\r\\n                    <i class=\\\"glyphicon pull-right\\\" \\r\\n                        ng-class=\\\"{'glyphicon-chevron-down': $ctrl.inputType.attachments, 'glyphicon-chevron-up': !$ctrl.inputType.attachments}\\\"\\r\\n                        ng-click=\\\"$ctrl.inputType.attachments = !$ctrl.inputType.attachments\\\"></i>\\r\\n                </legend>\\r\\n                <div class=\\\"animate-show\\\" ng-show=\\\"$ctrl.inputType.attachments\\\">\\r\\n                    <media-file-view on-change=\\\"$ctrl.filesChanged(files, b64)\\\" files=\\\"$ctrl.input.value.files\\\"></media-file-view>\\r\\n                </div>\\r\\n            </fieldset>\\r\\n        </form>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.add()\\\">Save</button>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.edit.template.html\n// module id = 129\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/modals/add-edit-entity/add-edit-entity.styles.less\n// module id = 130\n// module chunks = 0","import { AddEditBaseFactory } from './add-edit-base.factory';\r\nimport './add-edit-base.styles.less';\r\n\r\nexport const AddEditBaseModule = angular.module('erd.common.modals.add-edit-base', [])\r\n    .factory('addEditBaseModal', AddEditBaseFactory)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/add-edit-base/add-edit-base.module.js","import { AddEditBaseController as controller } from './add-edit-base.controller';\r\nimport template from './add-edit-base.template.html';\r\n\r\nexport function AddEditBaseFactory($uibModal) {\r\n    return function(config) {\r\n        return {\r\n            open: (base) => {\r\n                const modalInstance = $uibModal.open({\r\n                    animation: true,\r\n                    template: template,\r\n                    controller: controller,\r\n                    controllerAs: '$ctrl',\r\n                    resolve: {\r\n                        base: () => base,\r\n                        config: () => config\r\n                    }\r\n                });\r\n                return modalInstance.result;\r\n            }\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/add-edit-base/add-edit-base.factory.js","export class AddEditBaseController {\r\n    constructor(config, base, $uibModalInstance, BaseApi) {\r\n        this.$uibModalInstance = $uibModalInstance;\r\n        this.config = config;\r\n        this.base = base || {};\r\n        this.BaseApi = BaseApi;\r\n    }\r\n\r\n    add() {\r\n        this.baseForm.$setSubmitted();\r\n        if (this.baseForm.$invalid) {\r\n            return;\r\n        }\r\n        if (!this.base.tree) {\r\n            this.base.tree = {\r\n                value: angular.copy(this.base.value)\r\n            }\r\n        }\r\n        this.BaseApi.createBase(this.base).then((response) => {\r\n            this.$uibModalInstance.close(response);\r\n        })\r\n        \r\n    }\r\n\r\n    confirm() {\r\n        this.$uibModalInstance.close('confirm');\r\n    }\r\n\r\n    cancel() {\r\n        this.$uibModalInstance.dismiss('cancel');\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/modals/add-edit-base/add-edit-base.controller.js","module.exports = \"<div class=\\\"modal-content add-edit-base\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.cancel()\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">×</button>\\r\\n        <h4 class=\\\"modal-title\\\">{{$ctrl.config.type !== 'delete' ? 'Add New Base' : 'Delete ' + $ctrl.base.value.name}}</h4>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <form ng-if=\\\"$ctrl.config.type !== 'delete'\\\" name=\\\"$ctrl.baseForm\\\" class=\\\"form-horizontal\\\">\\r\\n            <fieldset>\\r\\n                <div class=\\\"form-group\\\" form-group-validation>\\r\\n                    <label for=\\\"name\\\" class=\\\"col-lg-2 control-label\\\">Name</label>\\r\\n                    <div class=\\\"col-lg-10\\\">\\r\\n                        <input type=\\\"text\\\" name=\\\"name\\\" placeholder=\\\"Name\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.base.value.name\\\" ng-required=\\\"true\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" form-group-validation>\\r\\n                    <label for=\\\"description\\\" class=\\\"col-lg-2 control-label\\\">Description</label>\\r\\n                    <div class=\\\"col-lg-10\\\">\\r\\n                        <input type=\\\"text\\\" name=\\\"description\\\" placeholder=\\\"Description\\\" class=\\\"form-control\\\" id=\\\"description\\\" ng-model=\\\"$ctrl.base.value.description\\\" ng-required=\\\"true\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </fieldset>\\r\\n        </form>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.config.type !== 'delete' ? $ctrl.add() : $ctrl.confirm()\\\">{{$ctrl.config.type !== 'delete' ? 'Add' : 'Delete'}}</button>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/modals/add-edit-base/add-edit-base.template.html\n// module id = 135\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/modals/add-edit-base/add-edit-base.styles.less\n// module id = 136\n// module chunks = 0","//form-group-validation.module.js\r\nimport { FormGroupValidationDirective } from './form-group-validation.directive';\r\n\r\nexport const FormGroupValidationModule = angular.module('erd.common.form-group-validation', [])\r\n    .directive('formGroupValidation', FormGroupValidationDirective)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/form-group-validation/form-group-validation.module.js","//form-group-validation.directive.js\r\nexport function FormGroupValidationDirective() {\r\n    return {\r\n        restrict: 'A',\r\n        require: '^form',\r\n        link\r\n    };\r\n\r\n    function link(scope, element, attrs, formCtrl) {\r\n\r\n        \r\n        const subject = (element.find('input')[0] || element.find('textarea')[0] || element.find('.ui-select-container')[0]).name;\r\n        let removeWatch = scope.$watch(function() {\r\n            return [\r\n                formCtrl.$submitted,\r\n                formCtrl[subject].$dirty,\r\n                formCtrl[subject].$touched,\r\n                formCtrl[subject].$invalid\r\n            ];\r\n        }, validate, true);\r\n\r\n        function validate() {\r\n            element.toggleClass('has-error', \r\n                (formCtrl.$submitted || formCtrl[subject].$dirty || formCtrl[subject].$touched) && \r\n                formCtrl[subject].$invalid);\r\n        }\r\n\r\n        scope.$on('$destroy', ()=>{\r\n            removeWatch();\r\n        });\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/form-group-validation/form-group-validation.directive.js","//mind-map-editor.module.js\r\nimport { MindMapEditorDirective } from './mind-map-editor.directive';\r\n\r\nexport const MindMapEditorModule = angular.module('erd.common.mind-map-editor', [])\r\n    .directive('mindMapEditor', MindMapEditorDirective)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/mind-map-editor/mind-map-editor.module.js","import template from './mind-map-editor.template.html';\r\nimport styles from './mind-map-editor.styles.less';\r\nimport { MindMapEditorTreeLogic } from './mind-map-editor.tree.logic';\r\nimport { MindMapEditorTreeMapLogic } from './mind-map-editor.treemap.logic';\r\n\r\nexport function MindMapEditorDirective(addEditEntityModal, BaseApi) {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            base: '=',\r\n            type: '='\r\n        },\r\n        template: template,\r\n        link\r\n    };\r\n\r\n    function link(scope, element, attrs, ctrl) {\r\n\r\n        const mindMapElement = angular.element(element[0].getElementsByClassName(\"mindMap\"))[0];\r\n        const dataApi = {\r\n            add: addEditEntityModal({type: 'add', basePk: scope.base.id}).open,\r\n            edit: addEditEntityModal({type: 'edit' , basePk: scope.base.id}).open,\r\n            remove: addEditEntityModal({type: 'remove' , basePk: scope.base.id}).open\r\n        };\r\n        let mindMapEditor = {};\r\n        if (!scope.base.tree) {\r\n            scope.base.tree = {\r\n                name: scope.base.name,\r\n                description: scope.base.description\r\n            }\r\n        }\r\n        function changedTreeData(treeData) {\r\n            scope.base.tree = treeData;\r\n        } \r\n\r\n        if (scope.type == 'tree') {\r\n            mindMapEditor = new MindMapEditorTreeLogic(mindMapElement); //mindMapElement, treeData, settings\r\n            scope.treeData = mindMapEditor.setTreeData(scope.base.tree);\r\n            mindMapEditor.onChange(changedTreeData);\r\n            mindMapEditor.setDataApi(dataApi);\r\n        }\r\n        if (scope.type == 'treemap') {\r\n            mindMapEditor = new MindMapEditorTreeMapLogic(mindMapElement, angular.copy(scope.base.tree)); //mindMapElement, treeData, settings\r\n        }\r\n\r\n\r\n        //console.log(scope.base.tree)\r\n\r\n        \r\n\r\n        scope.export = (format, scale) => {\r\n            format = format || 'png'; \r\n            scale = scale || 20;\r\n            mindMapEditor.export(format, scale);\r\n        }\r\n\r\n        /*scope.export = function(){\r\n            var svg = document.querySelector( \"svg\" );\r\n            var svgData = new XMLSerializer().serializeToString( svg );\r\n\r\n            var canvas = document.createElement( \"canvas\" );\r\n            var ctx = canvas.getContext( \"2d\" );\r\n\r\n            var img = document.createElement( \"img\" );\r\n            img.setAttribute( \"src\", \"data:image/svg+xml;base64,\" + btoa( svgData ) );\r\n\r\n            img.onload = function() {\r\n                ctx.drawImage( img, 0, 0 );\r\n                \r\n                // Now is done\r\n                console.log( canvas.toDataURL( \"image/png\" ) );\r\n            };\r\n        }*/\r\n    }\r\n\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/mind-map-editor/mind-map-editor.directive.js","module.exports = \"<div ng-if class=\\\"menu\\\">\\r\\n    <div class=\\\"btn btn-default\\\" ng-click=\\\"new()\\\">New</div>\\r\\n    <div class=\\\"btn btn-default loadFile\\\">\\r\\n        <span>Load File</span>\\r\\n        <input id=\\\"uploadFile\\\" name=\\\"uploadFile\\\" type=\\\"file\\\" change-file=\\\"load\\\">\\r\\n    </div>\\r\\n    <div class=\\\"downloadWrap\\\">\\r\\n        <input class=\\\"fileName\\\" type=\\\"text\\\" ng-model=\\\"fileName\\\">\\r\\n        <div class=\\\"btn btn-default\\\" ng-click=\\\"save()\\\">Save</div>\\r\\n        <div id=\\\"downloadLinkWrap\\\"></div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"btn-group pull-right\\\">\\r\\n    <div class=\\\"btn-group\\\" ng-class=\\\"dropDown\\\">\\r\\n        <a class=\\\"btn btn-default dropdown-toggle\\\" ng-click=\\\"dropDown = dropDown ? '' : 'open'\\\">\\r\\n                Export As\\r\\n                <span class=\\\"caret\\\"></span>\\r\\n              </a>\\r\\n        <ul class=\\\"dropdown-menu\\\">\\r\\n            <li><a class=\\\"btm btn-default \\\" ng-click=\\\"export('png')\\\">PNG</a></li>\\r\\n            <li><a class=\\\"btm btn-default \\\" ng-click=\\\"export('jpg')\\\">JPG</a></li>\\r\\n            <li><a class=\\\"btm btn-default \\\" ng-click=\\\"export('pdf')\\\">PDF</a></li>\\r\\n            <li><a class=\\\"btm btn-default\\\" ng-click=\\\"export('svg')\\\">SVG</a></li>\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"mindMap\\\"></div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/mind-map-editor/mind-map-editor.template.html\n// module id = 142\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/mind-map-editor/mind-map-editor.styles.less\n// module id = 143\n// module chunks = 0","//import d3 from './mind-map-editor.d3-layout';\r\nconst style = `\r\n        .svg-container {\r\n            display: inline-block;\r\n            position: relative;\r\n            width: 100%;\r\n            padding-bottom: 70vh; /* aspect ratio */\r\n            vertical-align: top;\r\n            overflow: hidden;\r\n        }\r\n        .svg-content-responsive {\r\n            display: inline-block;\r\n            position: absolute;\r\n        }\r\n    rect {\r\n        fill: none;\r\n        pointer-events: all;\r\n    }\r\n    line {\r\n        stroke: #000;\r\n        stroke-width: 1.5px;\r\n    }\r\n    .node circle {\r\n        fill: #fff;\r\n        stroke: steelblue;\r\n        stroke-width: 1.5px;\r\n    }\r\n    .node {\r\n        position: relative;\r\n        display: inline-block;\r\n        font: 10px sans-serif;\r\n    }\r\n    .link {\r\n        fill: none;\r\n        stroke: #ccc;\r\n        stroke-width: 1.5px;\r\n    }\r\n    .function-btn {\r\n        opacity: 0;\r\n        -webkit-transition: all 0.5s ease;\r\n        -moz-transition: all 0.5s ease;\r\n        transition: all 0.5s ease;\r\n    }\r\n    .function-btn.add {\r\n        fill: #57D37E;\r\n    }\r\n    .function-btn.remove {\r\n        fill: #E97979;\r\n    }\r\n    .function-btn.edit {\r\n        fill: #79AFE9;\r\n    }\r\n    g:hover > .function-btn {\r\n        opacity: 1;\r\n    }\r\n    .function-bg {\r\n        cursor: pointer;\r\n    }\r\n            `;\r\nexport class MindMapEditorTreeLogic {\r\n\r\n    constructor(mindMapElement, treeData, settings) {\r\n        this.mindMapElement = mindMapElement;\r\n        this.width = mindMapElement.clientWidth - 120,\r\n        this.height = mindMapElement.clientHeight - 60;\r\n\r\n        this.treeData = treeData || {};\r\n        this.tree = d3.layout.tree().size([this.height, this.width]);\r\n\r\n        this.diagonal = d3.svg.diagonal().projection((d) => {\r\n            return [d.y, d.x];\r\n        });\r\n\r\n        this.zoom = d3.behavior.zoom().scaleExtent([1, 10]).on(\"zoom\", () => {\r\n                this.main.attr(\"transform\", \"translate(\" + d3.event.translate + \")\" + \" scale(\" + d3.event.scale + \")\")\r\n            })\r\n\r\n        this.editorContainer = d3.select(this.mindMapElement);\r\n        this.editorSvg = this.editorContainer\r\n            .append(\"div\")\r\n            .classed(\"svg-container\", true)\r\n            .append(\"svg:svg\")\r\n            .attr(\"width\", \"100% \")\r\n            .attr(\"height\", \"100% \")\r\n            //.attr(\"viewBox\", \"0 0 \" + this.width + ' ' + this.height)\r\n            .classed(\"svg-content-responsive\", true)\r\n            .call(this.zoom)\r\n            /*.attr(\"width\", this.width + 120)\r\n            .attr(\"height\", this.height + 60);*/\r\n\r\n        this.editorSvg.append('style').html(style)\r\n\r\n\r\n        this.main = this.editorSvg\r\n            .append(\"svg:g\")\r\n            .attr(\"width\", \"100% \")\r\n            .attr(\"height\", \"100% \")\r\n            .classed('main', true)\r\n            //.attr(\"transform\", \"translate(\" + 80 + \",\" + 20 + \")\");\r\n\r\n\r\n        this.nodesData = this.main\r\n            .append(\"svg:g\")\r\n            .attr(\"width\", \"100% \")\r\n            .attr(\"height\", \"100% \")\r\n            .attr(\"transform\", \"translate(\" + 80 + \",\" + 20 + \")\");\r\n\r\n\r\n        this.settings = settings || {\r\n            duration: 500\r\n        };\r\n\r\n        window.addEventListener(\"resize\", () => {\r\n            this.width = this.editorSvg.style(\"width\").split('px')[0] - 120,\r\n            this.height = this.editorSvg.style(\"height\").split('px')[0] - 60;\r\n            this.tree = d3.layout.tree().size([this.height, this.width]);\r\n            this.update(this.tree)\r\n        });\r\n\r\n        this.onChangeCallback = () => {};\r\n    }\r\n\r\n\r\n    export(format, scale) {\r\n        let resize = (n) => {\r\n            let cp = d3.select(this.editorSvg.node().cloneNode(true)),\r\n                width = this.width,\r\n                height = this.height,\r\n                m = cp.select('g.main').attr('scale', '(' + n + ')');\r\n            cp\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height)\r\n                .style(\"width\", width + 'px')\r\n                .style(\"height\", height + 'px')\r\n            return {cp, width, height};\r\n        }\r\n        let save = (dataBlob, filesize) => {\r\n                saveAs.saveAs(dataBlob, this.treeData.name + '.' + format); // FileSaver.js function\r\n        }\r\n\r\n        if(format == 'svg') {\r\n            try {\r\n                var isFileSaverSupported = !!new Blob();\r\n            } catch (e) {\r\n                alert(\"blob not supported\");\r\n            }\r\n\r\n            var html = this.editorSvg\r\n                .attr(\"title\", this.treeData.name)\r\n                .attr(\"version\", 1.0)\r\n                .attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\r\n                .node().parentNode.innerHTML;\r\n\r\n            var blob = new Blob([html], {type: \"image/svg+xml\"});\r\n            saveAs.saveAs(blob, this.treeData.name + '.' + format);\r\n        } else if(format == 'pdf') {\r\n            svg_to_pdf(resize(scale).cp.node(), (pdf) => {\r\n                download_pdf(this.treeData.name + + '.pdf', pdf.output('dataurlstring'));\r\n            });\r\n        } else {\r\n            var svgString = getSVGString(resize(scale).cp.node(), this.width, this.height, 8);\r\n            svgString2Image(svgString, 2*this.width, 2*this.height, format, save ); // passes Blob and filesize String to the callback\r\n        }\r\n        \r\n\r\n        function getSVGString( svgNode) {\r\n            svgNode.setAttribute('xlink', 'http://www.w3.org/1999/xlink');\r\n            var cssStyleText = getCSSStyles( svgNode );\r\n\r\n            appendCSS( cssStyleText, svgNode )\r\n\r\n            var serializer = new XMLSerializer();\r\n            var svgString = serializer.serializeToString(svgNode);\r\n            svgString = svgString.replace(/(\\w+)?:?xlink=/g, 'xmlns:xlink=') // Fix root xlink without namespace\r\n            svgString = svgString.replace(/NS\\d+:href/g, 'xlink:href') // Safari NS namespace fix\r\n\r\n            return svgString;\r\n\r\n            function getCSSStyles( parentElement ) {\r\n                var selectorTextArr = [];\r\n\r\n                // Add Parent element Id and Classes to the list\r\n                selectorTextArr.push( '#'+parentElement.id );\r\n                for (var c = 0; c < parentElement.classList.length; c++)\r\n                        if ( !contains('.'+parentElement.classList[c], selectorTextArr) )\r\n                            selectorTextArr.push( '.'+parentElement.classList[c] );\r\n\r\n                // Add Children element Ids and Classes to the list\r\n                var nodes = parentElement.getElementsByTagName(\"*\");\r\n                for (var i = 0; i < nodes.length; i++) {\r\n                    var id = nodes[i].id;\r\n                    if ( !contains('#'+id, selectorTextArr) )\r\n                        selectorTextArr.push( '#'+id );\r\n\r\n                    var classes = nodes[i].classList;\r\n                    for (var c = 0; c < classes.length; c++)\r\n                        if ( !contains('.'+classes[c], selectorTextArr) )\r\n                            selectorTextArr.push( '.'+classes[c] );\r\n                }\r\n\r\n                // Extract CSS Rules\r\n                var extractedCSSText = \"\";\r\n                for (var i = 0; i < document.styleSheets.length; i++) {\r\n                    var s = document.styleSheets[i];\r\n                    \r\n                    try {\r\n                        if(!s.cssRules) continue;\r\n                    } catch( e ) {\r\n                            if(e.name !== 'SecurityError') throw e; // for Firefox\r\n                            continue;\r\n                        }\r\n\r\n                    var cssRules = s.cssRules;\r\n                    for (var r = 0; r < cssRules.length; r++) {\r\n                        if ( contains( cssRules[r].selectorText, selectorTextArr ) )\r\n                            extractedCSSText += cssRules[r].cssText;\r\n                    }\r\n                }\r\n                return extractedCSSText\r\n\r\n                function contains(str,arr) {\r\n                    return arr.indexOf( str ) === -1 ? false : true;\r\n                }\r\n\r\n            }\r\n\r\n            function appendCSS( cssText, element ) {\r\n                var styleElement = document.createElement(\"style\");\r\n                styleElement.setAttribute(\"type\",\"text/css\"); \r\n                styleElement.innerHTML = cssText;\r\n                var refNode = element.hasChildNodes() ? element.children[0] : null;\r\n                element.insertBefore( styleElement, refNode );\r\n            }\r\n        }\r\n\r\n\r\n        function svgString2Image( svgString, width, height, format, callback ) {\r\n            var format = format ? format : 'png';\r\n            var imgsrc = 'data:image/svg+xml;base64,'+ btoa( unescape( encodeURIComponent( svgString ) ) ); // Convert SVG string to dataurl\r\n\r\n            var canvas = document.createElement(\"canvas\");\r\n            var context = canvas.getContext(\"2d\");\r\n\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            //document.body.append(canvas);\r\n\r\n            var image = new Image;\r\n            image.onload = function() {\r\n                context.clearRect ( 0, 0, width, height );\r\n                context.drawImage(image, 0, 0, width, height);\r\n\r\n                canvas.toBlob( function(blob) {\r\n                    var filesize = Math.round( blob.length/1024 ) + ' KB';\r\n                    if ( callback ) callback( blob, filesize );\r\n                });\r\n            };\r\n\r\n            image.src = imgsrc;\r\n        }\r\n\r\n        function svg_to_pdf(svg, callback) {\r\n             saveSvgAsPng.svgAsDataUri(svg, {}, function(svg_uri) {\r\n                var image = document.createElement('img');\r\n\r\n                image.src = svg_uri;\r\n                image.onload = function() {\r\n                    var canvas = document.createElement('canvas');\r\n                    var context = canvas.getContext('2d');\r\n                    var doc = new jsPDF('portrait', 'pt');\r\n                    var dataUrl;\r\n\r\n                    canvas.width = image.height + image.width;\r\n                    canvas.height = image.height + image.width;\r\n                    if(image.height < image.width){\r\n                        context.rotate((90)*Math.PI/180);\r\n                    } \r\n\r\n                    \r\n\r\n                    //context.translate(canvas.width/2,canvas.height/2);\r\n                    //context.rotate((90)*Math.PI/180);\r\n                    //context.drawImage(image,-image.width/2,-image.width/2);\r\n                    context.drawImage(image, 0, 0, image.width, image.height);\r\n                    dataUrl = canvas.toDataURL('image/png');\r\n                    doc.addImage(dataUrl, 'PNG', 0, 0, image.width, image.height);\r\n\r\n                    callback(doc);\r\n                }\r\n            });\r\n        }\r\n\r\n        \r\n        function download_pdf(name, dataUriString) {\r\n            var link = document.createElement('a');\r\n            link.addEventListener('click', function(ev) {\r\n                link.href = dataUriString;\r\n                link.download = name;\r\n                document.body.removeChild(link);\r\n            }, false);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    onChange(cb) {\r\n        this.onChangeCallback = cb;\r\n    }\r\n\r\n    setDataApi(dataApi) {\r\n        this.dataApi = dataApi;\r\n    }\r\n\r\n    setTreeData(treeData) {\r\n        this.treeData = treeData || this.treeData;\r\n        this.treeData.x0 = this.height / 2;\r\n        this.treeData.y0 = 0;\r\n        this.update(this.treeData, true);\r\n        return this.treeData;\r\n    }\r\n\r\n    getTreeData() {\r\n        return this.treeData;\r\n    }\r\n\r\n    toggleChildren(d) {\r\n        if (d.children) {\r\n            d._children = d.children;\r\n            d.children = null;\r\n        } else {\r\n            d.children = d._children;\r\n            d._children = null;\r\n        }\r\n    }\r\n\r\n    toggleChildrenAll(d) {\r\n        if (d.children) {\r\n            d.children.forEach(toggleChildrenAll);\r\n            this.toggleChildren(d);\r\n        }\r\n    }\r\n\r\n    update(source, flag) {\r\n        if (!(source != null)) {\r\n            return;\r\n        }\r\n\r\n        // Compute the new tree layout.\r\n        const nodes = this.tree.nodes(this.treeData).reverse();\r\n\r\n\r\n        // Normalize for fixed-depth.             \r\n        let deepest = 0,\r\n            generationGutter = this.width;\r\n\r\n        nodes.forEach((d) => {\r\n            if (deepest < d.depth) {\r\n                deepest = d.depth;\r\n            }\r\n        });\r\n        generationGutter = Math.floor(this.width / (deepest + 1));\r\n        nodes.forEach((d) => { d.y = d.depth * generationGutter; });\r\n\r\n        // Update the nodes…\r\n        var node = this.nodesData.selectAll(\"g.node\")\r\n            .data(nodes, (d) => {\r\n                return d.id || (d.id = (new Date()).getTime());\r\n            });\r\n\r\n        // Enter any new nodes at the parent's previous position.\r\n        var nodeEnter = node.enter().append(\"svg:g\")\r\n            .attr(\"class\", \"node\")\r\n            .attr(\"transform\", (d) => {\r\n                return \"translate(\" + source.y0 + \",\" + source.x0 + \")\";\r\n            });\r\n\r\n        //inject content to node\r\n        this.InjectNodeContent(nodeEnter);\r\n\r\n        // Transition nodes to their new position.\r\n        var nodeUpdate = node.transition()\r\n            .duration(this.settings.duration)\r\n            .attr(\"transform\", (d) => {\r\n                return \"translate(\" + d.y + \",\" + d.x + \")\";\r\n            });\r\n\r\n        nodeUpdate.select(\"circle\")\r\n            .attr(\"r\", (d) => {\r\n                return 9.5 - d.depth;\r\n            })\r\n            .style(\"fill\", (d) => {\r\n                return d._children ? \"lightsteelblue\" : \"#fff\";\r\n            });\r\n\r\n        nodeUpdate.select(\"text\")\r\n            .text((d) => {\r\n                return d.value.name;\r\n            })\r\n            .style(\"fill-opacity\", 1);\r\n\r\n        // Transition exiting nodes to the parent's new position.\r\n        var nodeExit = node.exit().transition()\r\n            .duration(this.settings.duration)\r\n            .attr(\"transform\", (d) => {\r\n                return \"translate(\" + source.y + \",\" + source.x + \")\";\r\n            })\r\n            .remove();\r\n\r\n        nodeExit.select(\"circle\")\r\n            .attr(\"r\", 1e-6);\r\n\r\n        nodeExit.select(\"text\")\r\n            .style(\"fill-opacity\", 1e-6);\r\n\r\n        // Update the links…\r\n        var link = this.nodesData.selectAll(\"path.link\")\r\n            .data(this.tree.links(nodes), (d) => {\r\n                return d.target.id;\r\n            });\r\n\r\n        // Enter any new links at the parent's previous position.\r\n        \r\n\r\n        link.enter()\r\n            .insert(\"svg:path\", \"g\")\r\n            .attr('stroke-width', 10)\r\n            .attr(\"class\", \"link\")\r\n            .attr('id', (d) => {\r\n                return d.source.id + '-' + d.target.id;\r\n            })\r\n            .attr(\"d\", (d) => {\r\n                var o = { x: source.x0, y: source.y0 };\r\n                return this.diagonal({ source: o, target: o });\r\n            })\r\n            .transition()\r\n            .duration(this.settings.duration)\r\n            .attr(\"d\", this.diagonal);\r\n\r\n        // Transition links to their new position.\r\n        link.transition()\r\n            .duration(this.settings.duration)\r\n            .attr(\"d\", this.diagonal);\r\n\r\n        link.enter()\r\n            .insert(\"svg:text\", \"g\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .style('font-size', '14px')\r\n\r\n            .append(\"textPath\")\r\n            .attr('startOffset', '50%')\r\n            .text((d) => {\r\n                return d.target.connection.name + (d.target.subConnection && d.target.subConnection.name || '');\r\n            })\r\n            .attr(\"href\", (d) => {\r\n                return \"#\" + d.source.id + '-' + d.target.id\r\n            })\r\n            .text((d) => {\r\n                return d.target.connection.name;\r\n            });\r\n\r\n        // Transition exiting nodes to the parent's new position.\r\n        link.exit().transition()\r\n            .duration(this.settings.duration)\r\n            .attr(\"d\", (d) => {\r\n                var o = { x: source.x, y: source.y };\r\n                return this.diagonal({ source: o, target: o });\r\n            })\r\n            .remove();\r\n\r\n        // Stash the old positions for transition.\r\n        nodes.forEach((d) => {\r\n            d.x0 = d.x;\r\n            d.y0 = d.y;\r\n        });\r\n\r\n        if (!flag) {\r\n            this.onChangeCallback(this.treeData);\r\n        }\r\n    }\r\n\r\n\r\n    InjectNodeContent(nodeEnter) {\r\n        nodeEnter.append(\"svg:circle\")\r\n            .attr(\"r\", 1e-6)\r\n            .style(\"fill\", (d) => {\r\n                return d._children ? \"lightsteelblue\" : \"#fff\";\r\n            })\r\n            .classed(\"toggleCircle\", true)\r\n            .on(\"click\", (d) => {\r\n                toggle(d);\r\n                update(d);\r\n            });\r\n\r\n        nodeEnter.append(\"svg:text\")\r\n            .attr(\"x\", (d) => {\r\n                return d.children || d._children ? -10 : 10;\r\n            })\r\n            .style('font-size', '14px')\r\n            .attr(\"dy\", \".35em\")\r\n            .attr(\"text-anchor\", (d) => {\r\n                return d.children || d._children ? \"end\" : \"start\";\r\n            })\r\n            .text((d) => {\r\n                return d.value.name;\r\n            })\r\n            .style(\"fill-opacity\", 1e-6);\r\n\r\n        // Add btn icon\r\n        nodeEnter.append(\"svg:path\")\r\n            .attr(\"d\", \"M12 24c-6.627 0-12-5.372-12-12s5.373-12 12-12c6.628 0 12 5.372 12 12s-5.372 12-12 12zM12 3c-4.97 0-9 4.030-9 9s4.030 9 9 9c4.971 0 9-4.030 9-9s-4.029-9-9-9zM13.5 18h-3v-4.5h-4.5v-3h4.5v-4.5h3v4.5h4.5v3h-4.5v4.5z\")\r\n            .attr(\"transform\", (d) => {\r\n                var offset = (d.children || d._children) ? -70 : 0;\r\n                return \"translate(\" + offset + \",\" + 10 + \")\";\r\n            })\r\n            .classed(\"function-btn add\", true);\r\n\r\n        nodeEnter.append(\"svg:rect\")\r\n            .classed(\"function-bg add\", true)\r\n            .attr(\"width\", \"24px\")\r\n            .attr(\"height\", \"24px\")\r\n            .attr(\"transform\", (d) => {\r\n                var offset = (d.children || d._children) ? -70 : 0;\r\n                return \"translate(\" + offset + \",\" + 10 + \")\";\r\n            })\r\n            .on(\"click\", this.addNewNode.bind(this));\r\n\r\n        // Remove btn icon\r\n        nodeEnter.append(\"svg:path\")\r\n            .attr(\"d\", \"M3.514 20.485c-4.686-4.686-4.686-12.284 0-16.97 4.688-4.686 12.284-4.686 16.972 0 4.686 4.686 4.686 12.284 0 16.97-4.688 4.687-12.284 4.687-16.972 0zM18.365 5.636c-3.516-3.515-9.214-3.515-12.728 0-3.516 3.515-3.516 9.213 0 12.728 3.514 3.515 9.213 3.515 12.728 0 3.514-3.515 3.514-9.213 0-12.728zM8.818 17.303l-2.121-2.122 3.182-3.182-3.182-3.182 2.121-2.122 3.182 3.182 3.182-3.182 2.121 2.122-3.182 3.182 3.182 3.182-2.121 2.122-3.182-3.182-3.182 3.182z\")\r\n            .attr(\"transform\", (d) => {\r\n                var offset = (d.children || d._children) ? -40 : 30;\r\n                return \"translate(\" + offset + \",\" + 10 + \")\";\r\n            })\r\n            .classed(\"function-btn remove\", true);\r\n\r\n        nodeEnter.append(\"svg:rect\")\r\n            .classed(\"function-bg remove\", true)\r\n            .attr(\"width\", \"24px\")\r\n            .attr(\"height\", \"24px\")\r\n            .attr(\"transform\", (d) => {\r\n                var offset = (d.children || d._children) ? -40 : 30;\r\n                return \"translate(\" + offset + \",\" + 10 + \")\";\r\n            })\r\n            .on(\"click\", this.removeNode.bind(this));\r\n\r\n        // Edit btn\r\n        nodeEnter.append(\"svg:path\")\r\n            .attr(\"d\", \"M20.307 1.998c-0.839-0.462-3.15-1.601-4.658-1.913-1.566-0.325-3.897 5.79-4.638 5.817-1.202 0.043-0.146-4.175 0.996-5.902-1.782 1.19-4.948 2.788-5.689 4.625-1.432 3.551 2.654 9.942 0.474 10.309-0.68 0.114-2.562-4.407-3.051-5.787-1.381 2.64-0.341 5.111 0.801 8.198v0.192c-0.044 0.167-0.082 0.327-0.121 0.489h0.121v4.48c0 0.825 0.668 1.493 1.493 1.493 0.825 0 1.493-0.668 1.493-1.493v-4.527c2.787-0.314 4.098 0.6 6.007-3.020-1.165 0.482-3.491-0.987-3.009-1.68 0.97-1.396 4.935 0.079 7.462-4.211-4 1.066-4.473-0.462-4.511-1.019-0.080-1.154 3.999-0.542 5.858-2.146 1.078-0.93 2.37-3.133 0.97-3.905z\")\r\n            .attr(\"transform\", (d) => {\r\n                var offset = (d.children || d._children) ? -10 : 60;\r\n                return \"translate(\" + offset + \",\" + 10 + \")\";\r\n            })\r\n            .classed(\"function-btn edit\", true);\r\n\r\n        nodeEnter.append(\"svg:rect\")\r\n            .classed(\"function-bg edit\", true)\r\n            .attr(\"width\", \"24px\")\r\n            .attr(\"height\", \"24px\")\r\n            .attr(\"transform\", (d) => {\r\n                var offset = (d.children || d._children) ? -10 : 60;\r\n                return \"translate(\" + offset + \",\" + 10 + \")\";\r\n            })\r\n            .on(\"click\", this.editNode.bind(this));\r\n    }\r\n\r\n    addNewNode(d) {\r\n        let childList;\r\n        if (d.children) {\r\n            childList = d.children;\r\n        } else if (d._children) {\r\n            childList = d.children = d._children;\r\n            d._children = null;\r\n        } else {\r\n            childList = [];\r\n            d.children = childList;\r\n        }\r\n        if (this.dataApi && this.dataApi.add) {\r\n            this.dataApi.add(d).then((response) => {\r\n                childList.push(Object.assign({\r\n                    \"depth\": d.depth + 1,\r\n                    \"parent\": d\r\n                }, response));\r\n                this.update(d);\r\n            }, () => {\r\n                this.update(d);\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    removeNode(d) {\r\n        let thisId = d.id;\r\n        if (!d.parent) {\r\n            return;\r\n        }\r\n        if (this.dataApi && this.dataApi.remove) {\r\n            this.dataApi.remove(d).then((response) => {\r\n                if (!response) {\r\n                    return;\r\n                }\r\n                d.parent.children.forEach((c, index) => {\r\n                    if (thisId === c.id) {\r\n                        d.parent.children.splice(index, 1);\r\n                        return;\r\n                    }\r\n                });\r\n                this.update(d.parent);\r\n            }, () => {\r\n                this.update(d);\r\n            })\r\n        }\r\n    }\r\n\r\n    editNode(d) {\r\n        if (this.dataApi && this.dataApi.edit) {\r\n            this.dataApi.edit(d).then((response) => {\r\n                Object.assign(d, response);\r\n                if (!d.parent) {\r\n                    this.update(d);\r\n                } else {\r\n                    this.update(d.parent);\r\n                }\r\n            }, () => {\r\n                this.update(d);\r\n            })\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/mind-map-editor/mind-map-editor.tree.logic.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/assign.js\n// module id = 152\n// module chunks = 0","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/assign.js\n// module id = 153\n// module chunks = 0","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.assign.js\n// module id = 154\n// module chunks = 0","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-assign.js\n// module id = 155\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys.js\n// module id = 156\n// module chunks = 0","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys-internal.js\n// module id = 157\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_has.js\n// module id = 158\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-iobject.js\n// module id = 159\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iobject.js\n// module id = 160\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_cof.js\n// module id = 161\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_defined.js\n// module id = 162\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-includes.js\n// module id = 163\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-length.js\n// module id = 164\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-integer.js\n// module id = 165\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-index.js\n// module id = 166\n// module chunks = 0","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared-key.js\n// module id = 167\n// module chunks = 0","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared.js\n// module id = 168\n// module chunks = 0","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_uid.js\n// module id = 169\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-bug-keys.js\n// module id = 170\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gops.js\n// module id = 171\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-pie.js\n// module id = 172\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-object.js\n// module id = 173\n// module chunks = 0","//import d3 from './mind-map-editor.d3-layout';\r\n\r\nexport class MindMapEditorTreeMapLogic {\r\n\r\n    constructor(mindMapElement, treeData, settings) {\r\n        console.log(mindMapElement, treeData, settings)\r\n        this.mindMapElement = mindMapElement;\r\n\r\n        this.width = mindMapElement.clientWidth ;\r\n        this.height = mindMapElement.clientHeight ;\r\n\r\n\r\n        var zoom = null;\r\n\r\n        var x = d3.scale.linear().range([0, this.width]),\r\n            y = d3.scale.linear().range([0, this.height]),\r\n            color = d3.scale.category20c(),\r\n            root,\r\n            node;\r\n\r\n        var treemap = d3.layout.treemap()\r\n            .round(false)\r\n            .size([this.width, this.height])\r\n            .sticky(true)\r\n            .value(function(d) {\r\n                return d.value.value || 50; });\r\n\r\n        var svg = d3.select(this.mindMapElement).append(\"div\")\r\n            .attr(\"class\", \"chart\")\r\n            .style(\"width\", this.width + \"px\")\r\n            .style(\"height\", this.height + \"px\")\r\n            .append(\"svg:svg\")\r\n            .attr(\"width\", this.width)\r\n            .attr(\"height\", this.height)\r\n            .append(\"svg:g\")\r\n            .attr(\"transform\", \"translate(.5,.5)\");\r\n\r\n            node = root = treeData;\r\n\r\n            var nodes = treemap.nodes(root)\r\n                .filter(function(d) {\r\n                    return !d.children; });\r\n\r\n            var cell = svg.selectAll(\"g\")\r\n                .data(nodes)\r\n                .enter().append(\"svg:g\")\r\n                .attr(\"class\", \"cell\")\r\n                .attr(\"transform\", function(d) {\r\n                    return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n                .on(\"click\", function(d) {\r\n                    return zoom(node == d.parent ? root : d.parent); });\r\n\r\n            cell.append(\"svg:rect\")\r\n                .attr(\"width\", function(d) {\r\n                    return d.dx - 1; })\r\n                .attr(\"height\", function(d) {\r\n                    return d.dy - 1; })\r\n                .style(\"fill\", function(d) {\r\n                    return color(d.parent.name); });\r\n\r\n            cell.append(\"svg:text\")\r\n                .attr(\"x\", function(d) {\r\n                    return d.dx / 2; })\r\n                .attr(\"y\", function(d) {\r\n                    return d.dy / 2; })\r\n                .attr(\"dy\", \".35em\")\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .text(function(d) {\r\n                    return d.name; })\r\n                .style(\"opacity\", function(d) { d.w = this.getComputedTextLength();\r\n                    return d.dx > d.w ? 1 : 0; });\r\n\r\n            d3.select(window).on(\"click\", function() { zoom(root); });\r\n\r\n            d3.select(\"select\").on(\"change\", function() {\r\n                treemap.value(this.value == \"size\" ? size : count).nodes(root);\r\n                zoom(node);\r\n            });\r\n            //addTooltip();\r\n\r\n        function size(d) {\r\n            return d.size;\r\n        }\r\n\r\n        function count(d) {\r\n            return 1;\r\n        }\r\n\r\n        zoom = (d) => {\r\n            var kx = this.width / d.dx,\r\n                ky = this.height / d.dy;\r\n            x.domain([d.x, d.x + d.dx]);\r\n            y.domain([d.y, d.y + d.dy]);\r\n\r\n            var t = svg.selectAll(\"g.cell\").transition()\r\n                .duration(d3.event.altKey ? 7500 : 750)\r\n                .attr(\"transform\", function(d) {\r\n                    return \"translate(\" + x(d.x) + \",\" + y(d.y) + \")\"; });\r\n\r\n            t.select(\"rect\")\r\n                .attr(\"width\", function(d) {\r\n                    return kx * d.dx - 1; })\r\n                .attr(\"height\", function(d) {\r\n                    return ky * d.dy - 1; })\r\n\r\n            t.select(\"text\")\r\n                .attr(\"x\", function(d) {\r\n                    return kx * d.dx / 2; })\r\n                .attr(\"y\", function(d) {\r\n                    return ky * d.dy / 2; })\r\n                .style(\"opacity\", function(d) {\r\n                    return kx * d.dx > d.w ? 1 : 0; });\r\n\r\n            node = d;\r\n            d3.event.stopPropagation();\r\n        }\r\n\r\n        /*function addTooltip() {\r\n            var tip = d3.tip()\r\n                .attr(\"class\", \"d3-tip\")\r\n                .html(function(d) { console.log(d) })\r\n\r\n            cell = svg.selectAll(\".cell\")\r\n            cell.call(tip)\r\n            cell.on(\"mouseover\", tip.show)\r\n            cell.on(\"mouseout\", tip.hide)\r\n        }*/\r\n\r\n\r\n\r\n    }\r\n\r\n    /*onChange(cb) {\r\n        this.onChangeCallback = cb;\r\n    }\r\n\r\n    setDataApi(dataApi) {\r\n        this.dataApi = dataApi;\r\n    }\r\n\r\n    setTreeData(treeData) {\r\n\r\n\r\n        \r\n        return this.treeData;\r\n    }\r\n\r\n    getTreeData() {\r\n        return this.treeData;\r\n    }*/\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/mind-map-editor/mind-map-editor.treemap.logic.js","import { MediaFileViewComponent, initAs } from './media-file-view.component';\r\n\r\nexport const MediaFileViewModule = angular.module('erd.media-file-view', [])\r\n    .component('mediaFileView', MediaFileViewComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/media-file-view/media-file-view.module.js","import { MediaFileViewController as controller } from './media-file-view.controller';\r\nimport template from './media-file-view.template.html';\r\nimport styles from './media-file-view.styles.less';\r\n\r\nexport const MediaFileViewComponent = {\r\n    template,\r\n    controller,\r\n    bindings: {\r\n        files: '=',\r\n        onChange: '&'\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/media-file-view/media-file-view.component.js","export class MediaFileViewController {\r\n    constructor(API, Upload, $timeout, $scope) {\r\n        this.API = API;\r\n        this.Upload = Upload;\r\n        this.$timeout = $timeout;\r\n        this.fallbackImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAA00lEQVR4Ae2XwQqDQAxEveinFD9e2MUfq6Cep7GnrPAg1JVCu5OTvEwe9FLtWlpqR6OyVn2aXbNGdX6KB4OLrmbRyIKsGsksWKsINhbUShM0wVcEk43CnAVY722mMEfBhPWD9mGOAlvBepSDwK1gPc5LASp8fbCJ81KACl9PNkOYo8CfKOtHUpijwJ841y1xToJy5VxXnLPgvUL1OAeBW4F6kKPAnYB6jKPAnYA68PZ/8EOCJtjvfvmdqwjSvR8gTz1YcCiytgs/TvLnvaDi/J2gCV63ZgZdEb12DwAAAABJRU5ErkJggg==`;\r\n        this.tmpl = '<img ng-src=\"{{card.src}}\">';\r\n        this.mas = $('.grid').masonry({\r\n                    itemSelector: '.grid-item',\r\n                    columnWidth: '.grid-sizer',\r\n                    percentPosition: true\r\n                });\r\n        this.filesToPreview = [];\r\n        if (this.files && this.files.length) {\r\n            this.filesToPreview = angular.copy(this.files).map((el) => {\r\n                if (!el.src.startsWith('data')) {\r\n                    el.src = this.API.fileGet + el.src;\r\n                }\r\n                el.file = {\r\n                    name: el.name\r\n                }\r\n                return el;\r\n            });\r\n        }\r\n        this.filesRaw = [];\r\n        this.filesToUploadAndPreview = [];\r\n\r\n        $scope.$watch(() => this.filesToUploadAndPreview, () => {\r\n            console.log(this.filesToUploadAndPreview);\r\n            this.selectFiles(this.filesToUploadAndPreview);\r\n        });\r\n    }\r\n\r\n    selectFiles(files, errFiles) {\r\n        this.errFiles = errFiles;\r\n\r\n        if (!(files && files.length) || errFiles) {\r\n            this.errorMsg = 'No file chosen';\r\n            return;\r\n        }\r\n        //TODO: validation\r\n\r\n        this.filesRaw = this.filesRaw.concat(files);\r\n        this.filesToPreview = [];\r\n\r\n        this.onChange({\r\n            files: this.filesRaw,\r\n            b64: this.filesToPreview.map((el) => {\r\n                return {\r\n                    src: el.src,\r\n                    type: el.type,\r\n                    name: el.file.name,\r\n                    id: el.file.name\r\n                };\r\n            })\r\n        });\r\n\r\n        this.uploadFiles();\r\n\r\n        angular.forEach(this.filesRaw, (file) => {\r\n            this.Upload.base64DataUrl(file).then((b64) => {\r\n                this.filesToPreview.push({\r\n                    type: b64.split('data:')[1].split('/')[0],\r\n                    src: b64,\r\n                    file: file,\r\n                    id: file.name\r\n                });\r\n                this.mas.masonry('layout');\r\n                this.onChange({\r\n                    files: this.filesRaw,\r\n                    b64: this.filesToPreview.map((el) => {\r\n                        return {\r\n                            src: el.src,\r\n                            type: el.type,\r\n                            name: el.file.name,\r\n                            id: el.file.name\r\n                        };\r\n                    })\r\n                });\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    uploadFiles() {\r\n        if (!(this.filesRaw && this.filesRaw.length > 0)) {\r\n            return;\r\n        }\r\n        this.Upload.upload({\r\n            url: this.API.filesUpload,\r\n            data: {\r\n                files: this.filesRaw\r\n            },\r\n        }).then((response) => {\r\n            this.$timeout(() => {\r\n                this.uploadedFiles = [];\r\n                angular.forEach(response.data.result, (el) => {\r\n                    this.uploadedFiles.push({\r\n                        src: el.hash,\r\n                        type: el.mimetype.split('/')[0],\r\n                        name: el.hash\r\n                    });\r\n                });\r\n                this.onChange({\r\n                    files: this.uploadedFiles,\r\n                    b64: this.filesToPreview.map((el) => {\r\n                        return {\r\n                            src: el.src,\r\n                            type: el.type,\r\n                            name: el.file.name,\r\n                            id: el.file.name\r\n                        };\r\n                    })\r\n                });\r\n            });\r\n        }, (response) => {\r\n            if (response.status > 0) {\r\n                this.errorMsg = response.status + ': ' + response.data;\r\n            }\r\n        }, (evt) => {\r\n            this.uploadProgress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));\r\n        });\r\n    }\r\n\r\n    clearPreview() {\r\n        this.filesRaw = [];\r\n        this.filesToPreview = [];\r\n        this.onChange({\r\n            files: this.filesRaw,\r\n            b64: this.filesToPreview.map((el) => {\r\n                return {\r\n                    src: el.src,\r\n                    type: el.type,\r\n                    name: el.file.name,\r\n                    id: el.file.name\r\n                };\r\n            })\r\n        });\r\n    }\r\n\r\n    deleteFile(file, index) {\r\n        if (index > -1) {\r\n            this.filesToPreview.splice(index, 1);\r\n        }\r\n\r\n        let fInd = this.filesRaw.findIndex((el) => {\r\n            return (el.name + el.lastModified) === (file.file.name + file.file.lastModified)\r\n        });\r\n\r\n        if (fInd > -1) {\r\n            this.filesRaw.splice(fInd, 1);\r\n        }\r\n        this.onChange({\r\n            files: this.filesRaw,\r\n            b64: this.filesToPreview.map((el) => {\r\n                return {\r\n                    src: el.src,\r\n                    type: el.type,\r\n                    name: el.file.name,\r\n                    id: el.file.name\r\n                };\r\n            })\r\n        });\r\n    }\r\n\r\n    downloadFile(file, index) {\r\n        console.log(file, index, this)\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/media-file-view/media-file-view.controller.js","module.exports = \"<div id=\\\"mediaHere\\\" class=\\\"media-container\\\">\\r\\n    <!-- <div class=\\\"media-actions\\\">\\r\\n        <div class=\\\"actions\\\">\\r\\n             <i class=\\\"glyphicon glyphicon-th-list btn btn-default\\\" \\r\\n                ngf-select=\\\"$ctrl.selectFiles($files)\\\"  \\r\\n                accept=\\\"image/*,video/*,audio/*\\\"\\r\\n                multiple></i> \\r\\n\\r\\n            <i class=\\\"glyphicon glyphicon-upload btn btn-default\\\" \\r\\n                ng-click=\\\"$ctrl.uploadFiles()\\\"></i>\\r\\n\\r\\n            <i class=\\\"glyphicon glyphicon-trash btn btn-default\\\" \\r\\n                ng-click=\\\"$ctrl.clearPreview()\\\"></i>\\r\\n        </div>\\r\\n    </div> -->\\r\\n    <!-- <a class=\\\"media-control\\\">\\r\\n        <div class=\\\"btn btn-default add-file \\\" ngf-drop ngf-select=\\\"$ctrl.selectFiles($files)\\\" accept=\\\"image/*,video/*,audio/*\\\" multiple>\\r\\n            <span class=\\\"glyphicon glyphicon-paperclip img-responsive\\\"> </span>\\r\\n        </div>\\r\\n    </a>\\r\\n    <a class=\\\"media-control\\\" ng-repeat=\\\"pFile in $ctrl.filesToPreview\\\">\\r\\n        <figure>\\r\\n            <audio class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'audio'\\\" ng-src=\\\"{{pFile.src}}\\\" controls=\\\"true\\\"></audio>\\r\\n            <video class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'video'\\\" ng-src=\\\"{{pFile.src}}\\\" controls=\\\"true\\\"></video>\\r\\n            <img class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'image'\\\" ng-src=\\\"{{pFile.src}}\\\"></img>\\r\\n        </figure>\\r\\n        <i class=\\\"delete-file glyphicon glyphicon-remove btn btn-default\\\" ng-click=\\\"$ctrl.deleteFile(pFile, $index)\\\"></i>\\r\\n    </a> -->\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"item\\\">\\r\\n            <div class=\\\"well\\\">\\r\\n                <div class=\\\"btn btn-default add-file \\\" ngf-drop ngf-drag-over-class=\\\"'dragover'\\\" ngf-select=\\\"$ctrl.selectFiles($files. $errorFiles)\\\" ng-model=\\\"$ctrl.filesToUploadAndPreview\\\"  accept=\\\"image/*,video/*,audio/*\\\" multiple ngf-multiple=\\\"true\\\">\\r\\n                    <span class=\\\"glyphicon glyphicon-paperclip img-responsive\\\"> </span>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"item\\\" ng-repeat=\\\"pFile in $ctrl.filesToPreview\\\">\\r\\n            <div class=\\\"well\\\"> \\r\\n                <audio class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'audio'\\\" ng-src=\\\"{{pFile.src}}\\\" controls=\\\"true\\\"></audio>\\r\\n                <video class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'video'\\\" ng-src=\\\"{{pFile.src}}\\\" controls=\\\"true\\\"></video>\\r\\n                <img class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'image'\\\" ng-src=\\\"{{pFile.src}}\\\"></img>\\r\\n                <p>{{pFile.name | shortenFilename}}</p>\\r\\n                <i class=\\\"delete-file glyphicon glyphicon-remove btn btn-link\\\" ng-click=\\\"$ctrl.deleteFile(pFile, $index)\\\"></i>\\r\\n                <i class=\\\"download-file glyphicon glyphicon-download-alt btn btn-default\\\" ng-click=\\\"$ctrl.downloadFile(pFile, $index)\\\"></i>\\r\\n                <i class=\\\"zoom-file zoom-in glyphicon glyphicon-zoom-in btn btn-default\\\" ng-click=\\\"$ctrl.zoomFile(pFile, $index)\\\"></i>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- <div class=\\\"grid\\\">\\r\\n        <div class=\\\"grid-sizer\\\"></div>\\r\\n        <div class=\\\"grid-item\\\">\\r\\n            <div class=\\\"btn btn-default add-file \\\" ngf-drop ngf-select=\\\"$ctrl.selectFiles($files)\\\" accept=\\\"image/*,video/*,audio/*\\\" multiple>\\r\\n                <span class=\\\"glyphicon glyphicon-paperclip img-responsive\\\"> </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid-item\\\" ng-repeat=\\\"pFile in $ctrl.filesToPreview\\\">\\r\\n            <audio class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'audio'\\\" ng-src=\\\"{{pFile.src}}\\\" controls=\\\"true\\\"></audio>\\r\\n            <video class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'video'\\\" ng-src=\\\"{{pFile.src}}\\\" controls=\\\"true\\\"></video>\\r\\n            <img class=\\\"media-preview img-responsive\\\" ng-if=\\\"pFile.type === 'image'\\\" ng-src=\\\"{{pFile.src}}\\\"></img>\\r\\n        </div>\\r\\n        \\r\\n    </div> -->\\r\\n\\r\\n</div>\\r\\n<!-- <button class=\\\"btn btn-default\\\" ngf-select=\\\"$ctrl.selectFiles($files)\\\" multiple accept=\\\"image/*,video/*,audio/*\\\">Select Files</button>\\r\\n<button class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.clearPreview()\\\">X</button>\\r\\n<button class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.uploadFiles()\\\">Upload Files</button> -->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/media-file-view/media-file-view.template.html\n// module id = 179\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/media-file-view/media-file-view.styles.less\n// module id = 180\n// module chunks = 0","import { QuestionnaireComponent } from './questionnaire.component';\r\n\r\nexport const QuestionnaireModule = angular.module('erd.common.questionnaire', [])\r\n    .component('questionnaire', QuestionnaireComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/questionnaire/questionnaire.module.js","import { QuestionnaireController as controller } from './questionnaire.controller';\r\nimport template from './questionnaire.template.html';\r\nimport styles from './questionnaire.styles.less';\r\n\r\nexport const QuestionnaireComponent = {\r\n    template,\r\n    controller,\r\n    bindings: {\r\n        questions: '=',\r\n        onChange: '&'\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/questionnaire/questionnaire.component.js","export class QuestionnaireController {\r\n    constructor(API, Upload, $timeout) {\r\n        this.API = API;\r\n        \r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/questionnaire/questionnaire.controller.js","module.exports = \"<div class=\\\"questionnaire\\\">\\r\\n    <form>\\r\\n        <fieldset>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"col-lg-2 control-label\\\">Radios</label>\\r\\n                <div class=\\\"col-lg-10\\\">\\r\\n                    <div class=\\\"radio\\\">\\r\\n                        <label>\\r\\n                            <input type=\\\"radio\\\" name=\\\"optionsRadios\\\" id=\\\"optionsRadios1\\\" value=\\\"option1\\\" checked=\\\"\\\"> Option one is this\\r\\n                        </label>\\r\\n                    </div>\\r\\n                    <div class=\\\"radio\\\">\\r\\n                        <label>\\r\\n                            <input type=\\\"radio\\\" name=\\\"optionsRadios\\\" id=\\\"optionsRadios2\\\" value=\\\"option2\\\"> Option two can be something else\\r\\n                        </label>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </fieldset>\\r\\n        <button class=\\\"btn btn-warning\\\">Back</button>\\r\\n        <button class=\\\"btn btn-success\\\">Next</button>\\r\\n    </form>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/questionnaire/questionnaire.template.html\n// module id = 185\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/common/questionnaire/questionnaire.styles.less\n// module id = 186\n// module chunks = 0","import { ShortenFilenameFilter } from './shorten-filename.filter';\r\n\r\nexport const FiltersModule = angular.module('erd.common.filters', [])\r\n    .filter('shortenFilename', ShortenFilenameFilter)\r\n    \r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/filters/filters.module.js","export function ShortenFilenameFilter() {\r\n    return (fileName, leaveNumber) => {\r\n        if (!fileName) {\r\n            return '';\r\n        }\r\n        let parsed = fileName.split(\".\"),\r\n            ext = parsed.pop();\r\n        \r\n        return parsed.join('.').substr(0, 20) + '...' + ext;\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/filters/shorten-filename.filter.js","import { AuthComponent } from './auth.component';\r\nimport { AuthConfig } from './auth.config';\r\nimport { MESSAGES } from './auth.constants';\r\n\r\nimport { LoginModule } from './login/login.module';\r\nimport { SignInModule } from './signin/signin.module';\r\n\r\nexport const AuthModule = angular.module('erd.auth', [\r\n        LoginModule,\r\n        SignInModule\r\n    ])\r\n    .config(AuthConfig)\r\n    .component('auth', AuthComponent)\r\n    .constant('MESSAGES', MESSAGES)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/auth.module.js","import {AuthController as controller} from './auth.controller';\r\nimport template from './auth.template.html';\r\nimport styles from './auth.styles.less';\r\n\r\nexport const AuthComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/auth.component.js","export class AuthController {\r\n    constructor(AuthApi, API) {\r\n        this.AuthApi = AuthApi;\r\n        this.AuthApi.getSocialUrls().then((response) => {\r\n            this.backends = response.data.backends;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/auth.controller.js","module.exports = \"<div class=\\\"container\\\">\\r\\n    <div class=\\\"auth row\\\">\\r\\n        <div class=\\\"col-lg-6 col-xs-6 col-sm-6 col-md-6\\\">\\r\\n            <div class=\\\"well\\\">\\r\\n                <legend ng-if>Please Log In, or <a href=\\\"#\\\">Sign Up</a></legend>\\r\\n                <ul class=\\\"nav nav-tabs\\\">\\r\\n                    <li \\r\\n                        role=\\\"button\\\"\\r\\n                        ui-sref=\\\"app.auth.login\\\" \\r\\n                        ui-sref-active=\\\"active\\\"><a>Log In</a></li>\\r\\n                    <li \\r\\n                        role=\\\"button\\\"\\r\\n                        ui-sref=\\\"app.auth.signin\\\" \\r\\n                        ui-sref-active=\\\"active\\\"><a>Sing In</a></li>\\r\\n                </ul>\\r\\n                \\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-lg-4 col-xs-4 col-sm-4 col-md-4\\\" ng-repeat=\\\"be in $ctrl.backends\\\">\\r\\n                        <a ng-href=\\\"{{be.link}}\\\" class=\\\"btn btn-lg btn-info btn-block\\\" ng-class=\\\"be.backend\\\">{{be.backend}}</a>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"login-or\\\">\\r\\n                    <hr class=\\\"hr-or\\\">\\r\\n                    <span class=\\\"span-or\\\">or</span>\\r\\n                </div>\\r\\n                <div ui-view></div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth/auth.template.html\n// module id = 193\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth/auth.styles.less\n// module id = 194\n// module chunks = 0","export function AuthConfig($stateProvider, $urlRouterProvider) {\r\n\r\n    $urlRouterProvider.when('/auth', '/auth/login');\r\n\r\n    $stateProvider\r\n        .state('app.auth.login', {\r\n            url: '/login',\r\n            template: '<login></login>'\r\n        })\r\n        .state('app.auth.signin', {\r\n            url: '/signin',\r\n            template: '<signin></signin>'\r\n        });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/auth.config.js","export const MESSAGES = {\r\n    error: {\r\n        general: 'Specified login or password is not correct',\r\n        username: 'Specified login is not valid',\r\n        password: 'Specified password is not valid',\r\n        'confirm-password': 'Typed passwords do not match',\r\n        email: 'Specified email is not valid'\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/auth.constants.js","import { LoginComponent } from './login.component';\r\n\r\nexport const LoginModule = angular.module('erd.auth.login', [])\r\n    .component('login', LoginComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/login/login.module.js","import {LoginController as controller} from './login.controller';\r\nimport template from './login.template.html';\r\nimport styles from './login.styles.less';\r\n\r\nexport const LoginComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/login/login.component.js","export class LoginController {\r\n    constructor(AuthApi, $localStorage) { \r\n        this.AuthApi = AuthApi;\r\n        this.$storage = $localStorage;\r\n        this.errorMessage = '';\r\n        this.input = {\r\n            username: this.$storage.username,\r\n            password: this.$storage.password,\r\n            rememberMe: true\r\n        }\r\n    }\r\n\r\n    submit() {\r\n        this.loginForm.$setSubmitted();\r\n        this.errorMessage = '';\r\n        if (!this.input.username || !this.input.password) {\r\n            return;\r\n        }\r\n\r\n        this.AuthApi.login(this.input).then((response) => {\r\n            //console.log(response);\r\n        }, (error) => {\r\n            //console.log(error)\r\n            this.errorMessage = 'Specified login or password is not correct'\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/login/login.controller.js","module.exports = \"<form id=\\\"$ctrl.loginForm\\\" name=\\\"$ctrl.loginForm\\\" role=\\\"form\\\" novalidate>\\r\\n    <div class=\\\"form-group\\\" form-group-validation>\\r\\n        <label for=\\\"username\\\" class=\\\"control-label\\\">Username</label>\\r\\n        <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            name=\\\"username\\\"\\r\\n            id=\\\"username\\\"\\r\\n            placeholder=\\\"Username or Email\\\"\\r\\n            ng-model=\\\"$ctrl.input.username\\\"\\r\\n            ng-required=\\\"true\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" form-group-validation>\\r\\n        <a class=\\\"forgot-password pull-right\\\" href=\\\"\\\">Forgot password?</a>\\r\\n        <label for=\\\"password\\\" class=\\\"control-label\\\">Password</label>\\r\\n        <input\\r\\n            type=\\\"password\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            name=\\\"password\\\"\\r\\n            id=\\\"password\\\"\\r\\n            placeholder=\\\"Password\\\"\\r\\n            ng-model=\\\"$ctrl.input.password\\\"\\r\\n            ng-required=\\\"true\\\">\\r\\n    </div>\\r\\n    <p class=\\\"text-danger\\\" ng-if=\\\"$ctrl.errorMessage\\\" ng-bind=\\\"$ctrl.errorMessage\\\"></p>\\r\\n    <div class=\\\"checkbox pull-right\\\">\\r\\n        <label for=\\\"remember-me\\\">\\r\\n            <input id=\\\"remember-me\\\" name=\\\"remember-me\\\" type=\\\"checkbox\\\" ng-model=\\\"$ctrl.input.rememberMe\\\">Remember Me\\r\\n        </label>\\r\\n    </div>\\r\\n    <button\\r\\n        ng-click=\\\"$ctrl.submit()\\\" \\r\\n        type=\\\"submit\\\" \\r\\n        class=\\\"btn btn btn-primary\\\">\\r\\n        Log In\\r\\n    </button>\\r\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth/login/login.template.html\n// module id = 201\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth/login/login.styles.less\n// module id = 202\n// module chunks = 0","import { SignInComponent } from './signin.component';\r\n\r\nexport const SignInModule = angular.module('erd.auth.signin', [])\r\n    .component('signin', SignInComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/signin/signin.module.js","import {SignInController as controller} from './signin.controller';\r\nimport template from './signin.template.html';\r\nimport styles from './signin.styles.less';\r\n\r\nexport const SignInComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/signin/signin.component.js","export class SignInController {\r\n    constructor(AuthApi, MESSAGES) {\r\n        this.AuthApi = AuthApi;\r\n        this.userData = {};\r\n        this.errorMap = MESSAGES.error;\r\n        this.errorMessage = '';\r\n    }\r\n\r\n    submit() {\r\n        this.errorMessage = '';\r\n        let fields = ['username', 'password', 'email', 'confirm-password'];\r\n        this.singInForm.$setSubmitted();\r\n\r\n        fields.forEach((el) => {\r\n            if (this.singInForm[el].$invalid) {\r\n                this.errorMessage = this.errorMap[el] || this.errorMap.general;\r\n                return;\r\n            }\r\n        });\r\n\r\n        if (this.singInForm.$invalid) {\r\n            return;\r\n        }\r\n        this.AuthApi.signup(this.userData).then((response) => {\r\n            console.log(this.userData)\r\n            //console.log(response);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth/signin/signin.controller.js","module.exports = \"<form name=\\\"$ctrl.singInForm\\\" id=\\\"$ctrl.singInForm\\\" role=\\\"form\\\" novalidate>\\r\\n    <div class=\\\"form-group\\\" form-group-validation>\\r\\n        <label for=\\\"username\\\" class=\\\"control-label\\\">Username</label>\\r\\n        <input \\r\\n            type=\\\"text\\\" \\r\\n            name=\\\"username\\\" \\r\\n            id=\\\"username\\\" \\r\\n            tabindex=\\\"1\\\"\\r\\n            class=\\\"form-control\\\" \\r\\n            placeholder=\\\"Username\\\" \\r\\n            ng-model=\\\"$ctrl.userData.username\\\"\\r\\n            ng-required=\\\"true\\\"\\r\\n            value=\\\"\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" form-group-validation>\\r\\n        <label for=\\\"email\\\" class=\\\"control-label\\\">Email</label>\\r\\n        <input \\r\\n            type=\\\"email\\\" \\r\\n            name=\\\"email\\\" \\r\\n            id=\\\"email\\\" \\r\\n            tabindex=\\\"1\\\" \\r\\n            class=\\\"form-control\\\" \\r\\n            placeholder=\\\"Email Address\\\"\\r\\n            ng-model=\\\"$ctrl.userData.email\\\"\\r\\n            ng-required=\\\"true\\\"\\r\\n            value=\\\"\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" form-group-validation>\\r\\n        <label for=\\\"password\\\" class=\\\"control-label\\\">Password</label>\\r\\n        <input \\r\\n            type=\\\"password\\\" \\r\\n            name=\\\"password\\\" \\r\\n            id=\\\"password\\\" \\r\\n            tabindex=\\\"2\\\" \\r\\n            class=\\\"form-control\\\" \\r\\n            placeholder=\\\"Password\\\"\\r\\n            ng-model=\\\"$ctrl.userData.password\\\"\\r\\n            ng-required=\\\"true\\\"\\r\\n            value=\\\"\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" form-group-validation>\\r\\n        <label for=\\\"confirm-password\\\" class=\\\"control-label\\\">Confirm Password</label>\\r\\n        <input\\r\\n            type=\\\"password\\\"\\r\\n            name=\\\"confirm-password\\\"\\r\\n            id=\\\"confirm-password\\\"\\r\\n            tabindex=\\\"2\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"Confirm Password\\\"\\r\\n            ng-model=\\\"$ctrl.userData.confirmPassword\\\"\\r\\n            ng-required=\\\"true\\\"\\r\\n            value=\\\"\\\">\\r\\n    </div>\\r\\n    <p class=\\\"text-danger\\\" ng-if=\\\"$ctrl.errorMessage\\\" ng-bind=\\\"$ctrl.errorMessage\\\"></p>\\r\\n    <button \\r\\n        ng-click=\\\"$ctrl.submit()\\\"\\r\\n        type=\\\"submit\\\" \\r\\n        class=\\\"btn btn btn-primary\\\">\\r\\n        Sign In\\r\\n    </button>\\r\\n</form>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth/signin/signin.template.html\n// module id = 207\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/auth/signin/signin.styles.less\n// module id = 208\n// module chunks = 0","import { EditBaseModule } from './edit-base/edit-base.module';\r\nimport { HeaderModule } from './header/header.module';\r\nimport { DashboardModule } from './dashboard/dashboard.module';\r\nimport { UserPageModule } from './user-page/user-page.module';\r\nimport { IndexComponent } from './index.component';\r\nimport { MemoriseModule } from './memorise/memorise.module';\r\n\r\nexport const IndexModule = angular.module('erd.index', [\r\n        EditBaseModule,\r\n        HeaderModule,\r\n        DashboardModule,\r\n        UserPageModule,\r\n        MemoriseModule\r\n    ])\r\n    .component('index', IndexComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/index.module.js","import { EditBaseComponent } from './edit-base.component';\r\n\r\nexport const EditBaseModule = angular.module('erd.index.dashboard.edit-base', [])\r\n    .component('editBase', EditBaseComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/edit-base/edit-base.module.js","import {EditBaseController as controller} from './edit-base.controller';\r\nimport template from './edit-base.template.html';\r\nimport styles from './edit-base.styles.less';\r\n\r\nexport const EditBaseComponent = {\r\n    template,\r\n    controller,\r\n   /* bindings: {\r\n        baseId: '=',\r\n        base: '='\r\n    }*/\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/edit-base/edit-base.component.js","export class EditBaseController {\r\n    constructor(BaseApi, $timeout, $stateParams, addEditBaseModal) {\r\n        dataInit = dataInit.bind(this);\r\n        this.BaseApi = BaseApi;\r\n        if (!$stateParams.base && !$stateParams.baseId) {\r\n            addEditBaseModal().open().then(dataInit);\r\n        } else{\r\n            dataInit($stateParams.base, $stateParams.baseId)\r\n        }\r\n\r\n        function dataInit (base, baseId) {\r\n            if (base) {\r\n                this.base = angular.copy(base);\r\n                if (!this.base.tree) {\r\n                    this.base.tree = {\r\n                        name: this.base.value.name,\r\n                        description: this.base.value.description\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (baseId) {\r\n                this.BaseApi.getBase(baseId).then((response) => {\r\n                    this.base = response.data || this.base;\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    filesChanged(files) {\r\n        if(files && files.length > 0){\r\n            this.base.value.files = files;\r\n        }\r\n    }\r\n\r\n    saveChanges() {\r\n        this.editBaseForm.$setSubmitted();\r\n        if (this.editBaseForm.$invalid) {\r\n            return;\r\n        }\r\n        if (this.base.id) {\r\n            console.log(this.base.id)\r\n            this.BaseApi.editBase(this.base.id, this.base);\r\n            return;\r\n        }\r\n        this.BaseApi.createBase(this.base);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/edit-base/edit-base.controller.js","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\" ng-if=\\\"$ctrl.base\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <h3 ng-if id=\\\"navbar\\\">Edit {{$ctrl.base.value.name}}</h3>\\r\\n            <ul class=\\\"nav nav-tabs\\\" ng-init=\\\"activeTab='MindMapTree'\\\">\\r\\n                <li class=\\\"{{activeTab == 'MindMapTree' ? 'active' : ''}}\\\"><a href=\\\"\\\" ng-click=\\\"activeTab = 'MindMapTree'\\\">Mind Map Tree</a></li>\\r\\n                <li class=\\\"{{activeTab == 'MindMapTreeMap' ? 'active' : ''}}\\\"><a href=\\\"\\\" ng-click=\\\"activeTab = 'MindMapTreeMap'\\\">Mind Map Tree Map</a></li>\\r\\n                <li class=\\\"{{activeTab == 'GeneralInfo' ? 'active' : ''}}\\\"><a href=\\\"\\\" ng-click=\\\"activeTab = 'GeneralInfo'\\\">General Info</a></li>\\r\\n            </ul>\\r\\n            \\r\\n        </div>\\r\\n        <div ng-if=\\\"activeTab == 'MindMapTree'\\\" class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\">\\r\\n            <mind-map-editor type=\\\"'tree'\\\" base=\\\"$ctrl.base\\\"></mind-map-editor>\\r\\n        </div>\\r\\n        <div ng-if=\\\"activeTab == 'MindMapTreeMap'\\\" class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\">\\r\\n            <mind-map-editor type=\\\"'treemap'\\\" base=\\\"$ctrl.base\\\"></mind-map-editor>\\r\\n        </div>\\r\\n        <div ng-if=\\\"activeTab == 'GeneralInfo'\\\" class=\\\"container col-lg-12 col-xs-12 col-sm-12 col-md-12\\\">\\r\\n            <form name=\\\"$ctrl.editBaseForm\\\" class=\\\"form-horizontal\\\" novalidate>\\r\\n                <fieldset>\\r\\n                    <div class=\\\"form-group\\\" form-group-validation>\\r\\n                        <label for=\\\"name\\\" class=\\\"col-lg-2 col-xs-2 col-sm-2 col-md-2 control-label\\\">Name</label>\\r\\n                        <div class=\\\"col-lg-10 col-xs-10 col-sm-10 col-md-10\\\">\\r\\n                            <input \\r\\n                                type=\\\"text\\\" \\r\\n                                name=\\\"name\\\"\\r\\n                                placeholder=\\\"Name\\\"\\r\\n                                class=\\\"form-control\\\"\\r\\n                                id=\\\"name\\\"\\r\\n                                ng-model=\\\"$ctrl.base.value.name\\\"\\r\\n                                ng-required=\\\"true\\\"\\r\\n                                >\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" form-group-validation>\\r\\n                        <label for=\\\"description\\\" class=\\\"col-lg-2 col-xs-2 col-sm-2 col-md-2 control-label\\\">Description</label>\\r\\n                        <div class=\\\"col-lg-10 col-xs-10 col-sm-10 col-md-10\\\">\\r\\n                            <textarea \\r\\n                                name=\\\"description\\\" \\r\\n                                placeholder=\\\"Description\\\"\\r\\n                                class=\\\"form-control\\\" \\r\\n                                id=\\\"description\\\" \\r\\n                                ng-model=\\\"$ctrl.base.value.description\\\" \\r\\n                                ng-required=\\\"true\\\"\\r\\n                            ></textarea> \\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <fieldset>\\r\\n                <legend >Attachments\\r\\n                    <i class=\\\"glyphicon pull-right\\\" \\r\\n                        ng-class=\\\"{'glyphicon-chevron-down': $ctrl.inputType.attachments, 'glyphicon-chevron-up': !$ctrl.inputType.attachments}\\\"\\r\\n                        ng-click=\\\"$ctrl.inputType.attachments = !$ctrl.inputType.attachments\\\"></i>\\r\\n                </legend>\\r\\n                <div class=\\\"animate-show col-lg-10 col-xs-10 col-sm-10 col-md-10 col-lg-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-offset-2\\\" ng-show=\\\"$ctrl.inputType.attachments\\\">\\r\\n                    <div id=\\\"mediaHere\\\" class=\\\"custom-preview media-container\\\"></div>\\r\\n                    <media-file-view on-change=\\\"$ctrl.filesChanged(files)\\\" files=\\\"$ctrl.base.value.files\\\" ng-model=\\\"model\\\" preview-class=\\\"img-thumbnail\\\" preview-container=\\\"mediaHere\\\" multiple=\\\"\\\"></media-file-view>\\r\\n                </div>\\r\\n            </fieldset>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"col-lg-10 col-xs-10 col-sm-10 col-md-10 col-lg-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-offset-2\\\">\\r\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.saveChanges()\\\">Save Changes</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </fieldset>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/edit-base/edit-base.template.html\n// module id = 214\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/edit-base/edit-base.styles.less\n// module id = 215\n// module chunks = 0","import { HeaderComponent } from './header.component';\r\n\r\nexport const HeaderModule = angular.module('erd.index.header', [])\r\n    .component('header', HeaderComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/header/header.module.js","import {HeaderController as controller} from './header.controller';\r\nimport template from './header.template.html';\r\nimport styles from './header.styles.less';\r\n\r\nexport const HeaderComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/header/header.component.js","export class HeaderController {\r\n    constructor($localStorage) {\r\n        this.$storage = $localStorage;\r\n    }\r\n\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/header/header.controller.js","module.exports = \"<div class=\\\"navbar navbar-default navbar-fixed-top\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"navbar-header\\\">\\r\\n            <a ui-sref=\\\"app.index.dashboard\\\" class=\\\"navbar-brand\\\">ERD</a>\\r\\n        </div>\\r\\n        <div class=\\\"navbar-collapse collapse\\\" id=\\\"navbar-main\\\">\\r\\n            <ul class=\\\"nav navbar-nav navbar-right\\\">\\r\\n                <li class=\\\"user-menu\\\">\\r\\n                    <a ui-sref=\\\"app.index.user($ctrl.$storage.user)\\\">\\r\\n                        <span class=\\\"user-name col-xs-12 col-md-12 col-lg-12 col-sm-12\\\">\\r\\n                            <div class=\\\"col-xs-4 col-md-4 col-lg-4 col-sm-4\\\">\\r\\n                                <img ng-if=\\\"$ctrl.$storage.user.value.image\\\" ng-src=\\\"{{$ctrl.$storage.user.value.image}}\\\" class=\\\"avatar\\\" alt=\\\"Cinque Terre\\\">\\r\\n                            </div>\\r\\n                            <span class=\\\"first col-xs-8 col-md-8 col-lg-8 col-sm-8\\\" ng-bind=\\\"$ctrl.$storage.user.value.name\\\"></span>\\r\\n                        </span>\\r\\n                    </a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/header/header.template.html\n// module id = 220\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/header/header.styles.less\n// module id = 221\n// module chunks = 0","\r\nimport { DashboardComponent } from './dashboard.component';\r\n\r\nexport const DashboardModule = angular.module('erd.index.dashboard', [])\r\n    .component('dashboard', DashboardComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/dashboard/dashboard.module.js","import {DashboardController as controller} from './dashboard.controller';\r\nimport template from './dashboard.template.html';\r\nimport styles from './dashboard.styles.less';\r\n\r\nexport const DashboardComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/dashboard/dashboard.component.js","export class DashboardController {\r\n    constructor(BaseApi, addEditBaseModal, $state, $timeout) {\r\n\r\n        this.BaseApi = BaseApi;\r\n        this.data = {};\r\n        this.$timeout = $timeout;\r\n\r\n        this.newBase = null;\r\n        this.addEditBaseModal = addEditBaseModal;\r\n        this.$state = $state;\r\n\r\n        this.BaseApi.getBasesList().then((response) => {\r\n            this.data = {\r\n                bases: response.data\r\n            };\r\n        });\r\n    }\r\n\r\n    addBase() {\r\n        this.addEditBaseModal({type: 'add'}).open().then((response) => {\r\n            this.$state.transitionTo('app.index.create', {base: response, baseId:null});  \r\n        });\r\n    }\r\n\r\n    deleteBase(base) {\r\n        this.addEditBaseModal({type: 'delete'}).open(base).then((response) => {\r\n            if(response === 'confirm'){\r\n                this.BaseApi.deleteBase(base.pk).then(() => {\r\n                    this.BaseApi.getBasesList().then((response) => {\r\n                        this.data = {\r\n                            bases: response.data\r\n                        };\r\n                    });\r\n                }, () => {});\r\n            }\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/dashboard/dashboard.controller.js","module.exports = \"<div class=\\\"row dashboard\\\">\\r\\n    <div class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <h1 id=\\\"navbar\\\">Dashboard</h1>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\">\\r\\n            <div class=\\\"list-group bases\\\">\\r\\n                <a class=\\\"base list-group-item\\\" ng-click=\\\"expand[base.pk] = !expand[base.pk]\\\" ng-repeat=\\\"base in $ctrl.data.bases\\\">\\r\\n                    <h4 class=\\\"base-head list-group-item-heading\\\">{{base.value.name}}\\r\\n                        <div class=\\\"base-head-controls\\\">\\r\\n                            <div class=\\\"btn-group\\\" ng-class=\\\"dropDown\\\">\\r\\n                                <button class=\\\"btn btn-link dropdown-toggle\\\" ng-click=\\\"$event.stopPropagation(); dropDown = dropDown ? '' : 'open';\\\">\\r\\n                                    Edit\\r\\n                                    <span class=\\\"caret\\\"></span>\\r\\n                                </button>\\r\\n                                <ul class=\\\"dropdown-menu\\\">\\r\\n                                    <li><button class=\\\"btn btn-default\\\" ng-click=\\\"$event.stopPropagation();\\\" ui-sref=\\\"app.index.edit({ baseId: base.pk})\\\">Edit</button></li>\\r\\n                                    <li><button class=\\\"btn btn-default\\\" ng-click=\\\"$event.stopPropagation(); $ctrl.memorize(base);\\\">Memorise</button></li>\\r\\n                                    <li><button class=\\\"btn btn-default\\\" ng-click=\\\"$event.stopPropagation(); $ctrl.deleteBase(base);\\\">Delete</button></li>\\r\\n                                </ul>\\r\\n                            </div>\\r\\n                            <!-- <button  type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$event.stopPropagation()\\\" ui-sref=\\\"app.index.edit({ baseId: base.pk})\\\">\\r\\n                                <span class=\\\"glyphicon glyphicon-pencil\\\" aria-hidden=\\\"true\\\"></span>\\r\\n                            </button>\\r\\n                            <button  type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$event.stopPropagation()\\\" ui-sref=\\\"app.index.memorise({ baseId: base.pk})\\\">\\r\\n                                <span class=\\\"glyphicon glyphicon-pushpin\\\" aria-hidden=\\\"true\\\"></span>\\r\\n                            </button>\\r\\n                            <button  type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"expand[base.pk] = !expand[base.pk]; $ctrl.deleteBase(base);\\\">\\r\\n                                <span class=\\\"glyphicon glyphicon-trash\\\" aria-hidden=\\\"true\\\"></span>\\r\\n                            </button> -->\\r\\n                        </div>\\r\\n                    </h4>\\r\\n                    <div class=\\\"animate-show base-body\\\" ng-show=\\\"expand[base.pk]\\\">\\r\\n                        <p class=\\\"description list-group-item-text\\\">{{base.value.description}}</p>\\r\\n                    </div>\\r\\n                </a>\\r\\n                <a href=\\\"\\\" class=\\\"base list-group-item\\\" ng-click=\\\"$ctrl.addBase()\\\">\\r\\n                    <h4 class=\\\"base-head list-group-item-heading\\\">Add New Base\\r\\n                        <span class=\\\"base-head-controls glyphicon glyphicon-plus\\\"></span>\\r\\n                    </h4>\\r\\n                </a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/dashboard/dashboard.template.html\n// module id = 226\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/dashboard/dashboard.styles.less\n// module id = 227\n// module chunks = 0","import { UserPageComponent } from './user-page.component';\r\n\r\nexport const UserPageModule = angular.module('erd.index.user-page', [])\r\n    .component('userPage', UserPageComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/user-page/user-page.module.js","import {UserPageController as controller} from './user-page.controller';\r\nimport template from './user-page.template.html';\r\nimport styles from './user-page.styles.less';\r\n\r\nexport const UserPageComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/user-page/user-page.component.js","export class UserPageController {\r\n    constructor(UserApi, $timeout, API, Upload, $scope) {\r\n        this.UserApi = UserApi;\r\n        UserApi.getUser().then((response)=>{\r\n            //console.log(response);\r\n            this.input = response;\r\n        });\r\n        this.API = API;\r\n        this.Upload = Upload;\r\n        this.$timeout = $timeout;\r\n\r\n        $scope.$watch(() => this.picFile, () => {\r\n            this.upload(this.picFile);\r\n        });\r\n    }\r\n\r\n    saveChanges() {\r\n        this.userForm.$setSubmitted();\r\n        if (this.userForm.$invalid) {\r\n            return;\r\n        }\r\n        this.UserApi.setUser(this.input);\r\n    }\r\n\r\n    upload($file, $invalidFiles) {\r\n        if (!$file || $invalidFiles) {\r\n            return;\r\n        }\r\n        this.Upload.upload({\r\n            url: this.API.filesUpload,\r\n            data: {\r\n                files: [$file]\r\n            },\r\n        }).then((response) => {\r\n            this.$timeout(() => {\r\n                if (Object.keys(response.data.result).length > 0) {\r\n                    this.input.value.image = this.API.fileGet + response.data.result['files[0]'].hash;\r\n                }\r\n            });\r\n        }, (response) => {\r\n            if (response.status > 0) this.errorMsg = response.status \r\n                + ': ' + response.data;\r\n        }, (evt) => {\r\n            this.progress = parseInt(100.0 * evt.loaded / evt.total);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/user-page/user-page.controller.js","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/keys.js\n// module id = 232\n// module chunks = 0","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/keys.js\n// module id = 233\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.keys.js\n// module id = 234\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-sap.js\n// module id = 235\n// module chunks = 0","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <h1 id=\\\"navbar\\\">User Page</h1>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-8 col-xs-8 col-sm-8 col-md-8\\\">\\r\\n            <form name=\\\"$ctrl.userForm\\\" class=\\\"form-horizontal\\\">\\r\\n                <fieldset>\\r\\n                    <div class=\\\"form-group avatar\\\">\\r\\n                        <label for=\\\"avatar\\\" class=\\\"col-lg-2 col-xs-2 col-sm-2 col-md-2 control-label\\\">Avatar</label>\\r\\n                        <!-- <button \\r\\n                            ngf-select=\\\"$ctrl.upload($file, $invalidFiles)\\\"\\r\\n                            ng-model=\\\"$ctrl.picFile\\\" \\r\\n                            accept=\\\"image/*\\\">\\r\\n                            Select Picture</button> -->\\r\\n                        <div \\r\\n                            name=\\\"avatar\\\"\\r\\n                            class=\\\"avatar col-lg-10 col-xs-10 col-sm-10 col-md-10\\\" \\r\\n                            ngf-drop\\r\\n                            ngf-drag-over-class=\\\"'dragover'\\\"\\r\\n                            ngf-select=\\\"$ctrl.upload($file, $invalidFiles)\\\"\\r\\n                            ng-model=\\\"$ctrl.picFile\\\" \\r\\n                            accept=\\\"image/*\\\">\\r\\n                            <img ng-src=\\\"{{$ctrl.input.value.image}}\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </fieldset>\\r\\n                <fieldset>\\r\\n                    <div class=\\\"form-group\\\" form-group-validation>\\r\\n                        <label for=\\\"givenName\\\" class=\\\"col-lg-2 col-xs-2 col-sm-2 col-md-2 control-label\\\">User Name</label>\\r\\n                        <div class=\\\"col-lg-10 col-xs-10 col-sm-10 col-md-10\\\">\\r\\n                            <input \\r\\n                                type=\\\"text\\\" \\r\\n                                name=\\\"givenName\\\"\\r\\n                                placeholder=\\\"Name\\\"\\r\\n                                class=\\\"form-control\\\"\\r\\n                                id=\\\"givenName\\\"\\r\\n                                ng-model=\\\"$ctrl.input.value.name\\\"\\r\\n                                ng-required=\\\"true\\\"\\r\\n                                >\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" form-group-validation>\\r\\n                        <label for=\\\"description\\\" class=\\\"col-lg-2 control-label\\\">About Me</label>\\r\\n                        <div class=\\\"col-lg-10\\\">\\r\\n                            <input \\r\\n                                type=\\\"text\\\" \\r\\n                                name=\\\"description\\\" \\r\\n                                placeholder=\\\"About Me\\\"\\r\\n                                class=\\\"form-control\\\" \\r\\n                                id=\\\"description\\\" \\r\\n                                ng-model=\\\"$ctrl.input.value.description\\\" \\r\\n                                ng-required=\\\"true\\\"\\r\\n                                >\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"col-lg-10 col-xs-10 col-sm-10 col-md-10 col-lg-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-offset-2\\\">\\r\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.saveChanges()\\\">Save Changes</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </fieldset>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/user-page/user-page.template.html\n// module id = 236\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/user-page/user-page.styles.less\n// module id = 237\n// module chunks = 0","import {IndexController as controller} from './index.controller';\r\nimport template from './index.template.html';\r\nimport styles from './index.styles.less';\r\n\r\nexport const IndexComponent = {\r\n    template,\r\n    controller\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/index.component.js","export class IndexController {\r\n    constructor() {\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/index.controller.js","module.exports = \"<header></header>\\r\\n<div \\r\\n    class=\\\"container\\\" ui-view></div>\\r\\n\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/index.template.html\n// module id = 241\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/index.styles.less\n// module id = 242\n// module chunks = 0","import { MemoriseComponent } from './memorise.component';\r\n\r\nexport const MemoriseModule = angular.module('erd.index.memorise', [])\r\n    .component('memorise', MemoriseComponent)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/memorise/memorise.module.js","import {MemoriseController as controller} from './memorise.controller';\r\nimport template from './memorise.template.html';\r\nimport styles from './memorise.styles.less';\r\n\r\nexport const MemoriseComponent = {\r\n    template,\r\n    controller,\r\n   /* bindings: {\r\n        baseId: '=',\r\n        base: '='\r\n    }*/\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/memorise/memorise.component.js","export class MemoriseController {\r\n    constructor(BaseApi, $timeout, $stateParams) {\r\n        this.BaseApi = BaseApi;\r\n        this.baseId = $stateParams.baseId;\r\n        this.questionnaire = {};\r\n        if (this.baseId) {\r\n            this.BaseApi.getBase(this.baseId).then((response) => {\r\n                this.base = response.data || this.base;\r\n            });\r\n        }\r\n    }\r\n\r\n    getQuestionnaire() {\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index/memorise/memorise.controller.js","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-lg-12 col-xs-12 col-sm-12 col-md-12\\\" ng-if=\\\"$ctrl.base\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <h3 id=\\\"navbar\\\">Memorise {{$ctrl.base.value.name}}</h3>\\r\\n        </div>\\r\\n        <questionnaire></questionnaire>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/memorise/memorise.template.html\n// module id = 247\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index/memorise/memorise.styles.less\n// module id = 248\n// module chunks = 0"],"sourceRoot":""}